module.exports=[7899,(a,b,c)=>{b.exports=a.x("react-router-dom-2c8e5fc0cdea126d",()=>require("react-router-dom-2c8e5fc0cdea126d"))},3309,a=>a.a(async(b,c)=>{try{let b=await a.y("axios-fc13683ac9a02a51");a.n(b),c()}catch(a){c(a)}},!0),9469,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=a.i(7899),h=b([f]);[f]=h.then?(await h)():h;let i="https://nbs-backend.onrender.com/api/v1",j=/\/api\/v1\/?$/.test(i)?i.replace(/\/$/,""):i.replace(/\/$/,"")+"/api/v1";a.s(["default",0,()=>{let[a,b]=(0,e.useState)(""),[c,h]=(0,e.useState)(""),[i,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!1),n=(0,g.useNavigate)(),o=async b=>{b.preventDefault(),k(null),m(!0);try{let b=await f.default.post(`${j}/auth/login`,{username:a,password:c});localStorage.setItem("token",b.data.token),localStorage.setItem("user",JSON.stringify(b.data.user));let{token:d,user:e}=b.data;localStorage.setItem("authToken",d),localStorage.setItem("userRole",e.role),console.log(`User ${e.username} logged in successfully.`),n("/dashboard")}catch(a){console.error("Login failed:",a),k(a.response?.data?.error||"Login failed. Check server connection.")}finally{m(!1)}};return(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,d.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-lg",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-center text-indigo-800",children:"No Bed Syndrome Tracker Login"}),(0,d.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,d.jsx)("input",{type:"text",value:a,onChange:a=>b(a.target.value),required:!0,className:"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,d.jsx)("input",{type:"password",value:c,onChange:a=>h(a.target.value),required:!0,className:"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),i&&(0,d.jsx)("p",{className:"text-sm font-medium text-red-600",children:i}),(0,d.jsx)("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?"Logging In...":"Login"}),(0,d.jsx)(g.Link,{to:"/forgot-password",title:"Reset Password",className:"text-sm text-indigo-600 hover:underline block",children:"Forgot password?"}),(0,d.jsx)(g.Link,{to:"/signup",className:"text-blue-600 font-bold",children:"Register New Account"})]})]})})}]),c()}catch(a){c(a)}},!1),5278,a=>{"use strict";var b=a.i(8171);a.i(7669),a.s(["default",0,({isOpen:a,onClose:c,onConfirm:d,title:e,message:f})=>a?(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:(0,b.jsx)("span",{className:"text-red-600 text-xl font-bold",children:"âš ï¸"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:e}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:f})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:c,className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:d,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:"Confirm Delete"})]})]})}):null])},49,a=>{"use strict";var b=a.i(8171),c=a.i(7669);a.s(["default",0,({isOpen:a,onClose:d,onConfirm:e,bedNumber:f})=>{let[g,h]=(0,c.useState)("");return a?(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:(0,b.jsx)("span",{className:"text-green-600 text-xl font-bold",children:"ðŸ‘¤"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Direct Admission"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Assigning patient to Bed ",f]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Patient Full Name"}),(0,b.jsx)("input",{autoFocus:!0,type:"text",className:"w-full border-2 border-gray-100 p-3 rounded-lg outline-none focus:border-green-500 transition-colors",placeholder:"Enter name...",value:g,onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-800 rounded-lg font-medium",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{g.trim()?(e(g),h("")):alert("Please enter a patient name.")},className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium shadow-md",children:"Confirm Admission"})]})]})}):null}])},5511,a=>{"use strict";var b=a.i(8171);a.i(7669),a.s(["default",0,({history:a})=>(0,b.jsxs)("div",{className:"mt-6 border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:"ðŸ•’ Recent Bed Activity"}),(0,b.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:0===a.length?(0,b.jsx)("p",{className:"text-xs text-gray-400 italic",children:"No recent history"}):a.map((a,c)=>(0,b.jsxs)("div",{className:"text-[11px] flex justify-between bg-gray-50 p-2 rounded border-l-2 border-indigo-400",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-bold text-indigo-900",children:a.action_type}),": ",a.patient_name]}),(0,b.jsx)("div",{className:"text-gray-400",children:new Date(a.timestamp).toLocaleDateString()})]},c))})]})])},1742,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=a.i(5278),h=a.i(49),i=a.i(5511),j=b([f]);[f]=j.then?(await j)():j;let k="https://nbs-backend.onrender.com/api/v1";a.s(["default",0,({bedData:a,onStatusChange:b,token:c,userRole:j})=>{let[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)([]),[t,u]=(0,e.useState)(a.current_status),v=a.bed_id;(0,e.useEffect)(()=>{let b=!0;return(async()=>{try{let a=await f.default.get(`${k}/beds/${v}/history`,{headers:{Authorization:`Bearer ${c}`}});b&&s(a.data)}catch(a){a.response?.status===404&&(console.warn("History endpoint not found on server yet."),s([]))}})(),u(a.current_status),()=>{b=!1}},[a.current_status,v,c]);let w=async a=>{try{await f.default.post(`${k}/beds/${v}/status`,{new_status:"OCCUPIED",patient_name:a,performed_by:j},{headers:{Authorization:`Bearer ${c}`}}),b(),o(!1)}catch(a){alert("Admission failed.")}},x=async()=>{try{await f.default.post(`${k}/beds/${v}/status`,{new_status:"CLEANING",patient_name:null},{headers:{Authorization:`Bearer ${c}`}}),b(),q(!1)}catch(a){alert("Discharge failed.")}},y=async()=>{try{await f.default.post(`${k}/beds/${v}/status`,{new_status:"AVAILABLE"},{headers:{Authorization:`Bearer ${c}`}}),b()}catch(a){alert("Could not mark bed clean.")}},z=async()=>{try{await f.default.delete(`${k}/beds/${v}`,{headers:{Authorization:`Bearer ${c}`}}),b(),m(!1)}catch(a){alert("Delete failed. Discharge Patient First")}},A=()=>"OCCUPIED"===t&&!!a.updated_at&&(new Date-new Date(a.updated_at))/36e5>=48;return(0,d.jsxs)("div",{className:`p-5 border-2 rounded-xl shadow-sm transition-all flex flex-col justify-between relative min-h-[340px] ${(()=>{let b="";switch(t){case"AVAILABLE":b="bg-emerald-50 text-emerald-800 border-emerald-200";break;case"OCCUPIED":b="bg-rose-50 text-rose-800 border-rose-200";break;case"CLEANING":b="bg-amber-50 text-amber-800 border-amber-200";break;default:b="bg-gray-50 text-gray-800 border-gray-200"}return"Maternity"===a.specialty_type&&(b+=" border-l-8 border-l-pink-400"),"ICU"===a.specialty_type&&(b+=" border-l-8 border-l-indigo-600"),A()&&(b+=" ring-2 ring-rose-500 ring-offset-2"),b})()}`,children:[A()&&(0,d.jsxs)("div",{className:"absolute -top-3 left-4 bg-rose-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg animate-bounce z-20",children:["âš ï¸ LONG STAY ","> 48 hrs"]}),j?.toUpperCase()==="ADMIN"&&(0,d.jsx)("button",{onClick:()=>m(!0),className:"absolute top-3 right-3 p-2 bg-white/60 hover:bg-rose-500 hover:text-white text-rose-600 rounded-full transition-all z-30 shadow-sm border border-rose-100",children:(0,d.jsx)("span",{className:"text-sm",children:"ðŸ—‘ï¸"})}),(0,d.jsx)(h.default,{isOpen:n,onClose:()=>o(!1),onConfirm:w,bedNumber:a.bed_number}),(0,d.jsx)(g.default,{isOpen:p,onClose:()=>q(!1),onConfirm:x,title:"Confirm Discharge",message:`Discharge ${a.patient_name||"Patient"}? Bed will move to CLEANING.`}),(0,d.jsx)(g.default,{isOpen:l,onClose:()=>m(!1),onConfirm:z,title:"Delete Bed",message:"Permanently remove this bed from inventory?"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,d.jsxs)("h3",{className:"font-black text-xl text-slate-900 tracking-tight",children:["Bed ",a.bed_number]}),(0,d.jsx)("span",{className:"text-[9px] uppercase font-black px-2 py-1 rounded-md border border-current",children:t})]}),(0,d.jsxs)("div",{className:"text-xs space-y-1 mb-4",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-slate-400 font-bold uppercase text-[10px]",children:"Ward:"})," ",a.ward_name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-slate-400 font-bold uppercase text-[10px]",children:"Type:"})," ",a.specialty_type]})]}),"OCCUPIED"===t&&(0,d.jsxs)("div",{className:"p-3 bg-white/90 rounded-lg border border-rose-100 shadow-sm mb-4",children:[(0,d.jsx)("p",{className:"text-[9px] uppercase font-bold text-rose-500 mb-0.5 tracking-tighter",children:"Current Patient"}),(0,d.jsxs)("p",{className:"text-sm font-bold text-slate-900 truncate",children:["ðŸ‘¤ ",a.patient_name||"Anonymous"]})]}),(0,d.jsx)(i.default,{history:r})]}),(0,d.jsxs)("div",{className:"mt-5 flex flex-col gap-2",children:["OCCUPIED"===t&&(0,d.jsx)("button",{className:"bg-rose-600 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-rose-700 shadow-md transition-all active:scale-95",onClick:()=>q(!0),children:"Discharge"}),"CLEANING"===t&&(0,d.jsx)("button",{className:"bg-amber-500 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-amber-600 shadow-md transition-all active:scale-95",onClick:y,children:"Mark Clean"}),"AVAILABLE"===t&&(0,d.jsx)("button",{className:"bg-emerald-600 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-emerald-700 shadow-md transition-all active:scale-95",onClick:()=>o(!0),children:"Admit Patient"})]})]})}]),c()}catch(a){c(a)}},!1),6232,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=b([f]);[f]=g.then?(await g)():g;let h="https://nbs-backend.onrender.com/api/v1",i=/\/api\/v1\/?$/.test(h)?h.replace(/\/$/,""):h.replace(/\/$/,"")+"/api/v1",j=["General","ICU","Pediatric","HDU","CCU","NICU","Emergency beds","PACU","PICU","Maternity"],k=["Low","Medium","High","Emergency"];a.s(["default",0,()=>{let[a,b]=(0,e.useState)({patient_name:"",from_ward:"",required_specialty:"General",priority:"Medium",clinical_notes:""}),[c,g]=(0,e.useState)(!1),[h,l]=(0,e.useState)(null),m=async c=>{c.preventDefault(),g(!0),l(null);try{let c=localStorage.getItem("authToken");if(!c)return void l({type:"error",text:"Authentication missing. Please log in."});await f.default.post(`${i}/transfers`,a,{headers:{Authorization:`Bearer ${c}`}}),l({type:"success",text:"Transfer request logged and patient queued!"}),b({patient_name:"",from_ward:"",required_specialty:"General",priority:"Medium",clinical_notes:""})}catch(a){a.response?.status===401?l({type:"error",text:"Session expired. Please refresh and log in."}):l({type:"error",text:"Failed to submit request. Check connection."})}finally{g(!1)}};return(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,d.jsx)("span",{className:"text-xl",children:"ðŸ“‹"}),(0,d.jsx)("h2",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:"New Transfer"})]}),(0,d.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1",children:"Patient Identity"}),(0,d.jsx)("input",{type:"text",placeholder:"Full Name or Hospital ID",required:!0,className:"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all outline-none",value:a.patient_name,onChange:c=>b({...a,patient_name:c.target.value})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1",children:"Source Ward"}),(0,d.jsx)("input",{type:"text",placeholder:"e.g. A&E",required:!0,className:"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all outline-none",value:a.from_ward,onChange:c=>b({...a,from_ward:c.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1",children:"Target Specialty"}),(0,d.jsx)("select",{className:"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all cursor-pointer font-bold outline-none",value:a.required_specialty,onChange:c=>b({...a,required_specialty:c.target.value}),children:j.map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-1",children:"Triage Priority"}),(0,d.jsx)("div",{className:"grid grid-cols-4 gap-2",children:k.map(c=>(0,d.jsx)("button",{type:"button",onClick:()=>b({...a,priority:c}),className:`py-2 rounded-lg text-[10px] font-black transition-all border ${a.priority===c?"Emergency"===c?"bg-rose-600 border-rose-600 text-white":"bg-indigo-600 border-indigo-600 text-white shadow-md shadow-indigo-100":"bg-white border-slate-100 text-slate-400 hover:border-slate-300"}`,children:c.toUpperCase()},c))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1",children:"Clinical Indication"}),(0,d.jsx)("textarea",{placeholder:"Reason for transfer (Handover notes)...",className:"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all resize-none outline-none",rows:3,value:a.clinical_notes,onChange:c=>b({...a,clinical_notes:c.target.value})})]}),h&&(0,d.jsxs)("div",{className:`p-3 rounded-xl text-xs font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1 ${"success"===h.type?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[(0,d.jsx)("span",{children:"success"===h.type?"âœ…":"âš ï¸"}),h.text]}),(0,d.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-indigo-950 text-white py-4 rounded-xl font-black text-xs tracking-widest hover:bg-indigo-900 disabled:bg-slate-300 transition-all active:scale-[0.98] shadow-lg shadow-indigo-100/50",children:c?"PROCESSING...":"DISPATCH REQUEST"})]})]})}]),c()}catch(a){c(a)}},!1),9028,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=b([f]);[f]=g.then?(await g)():g;let h="https://nbs-backend.onrender.com/api/v1";a.s(["default",0,()=>{let[a,b]=(0,e.useState)([]),[c,g]=(0,e.useState)([]),[i,j]=(0,e.useState)({}),[k,l]=(0,e.useState)(!0),m=(0,e.useCallback)(async()=>{let a=localStorage.getItem("authToken");try{let b=await f.default.get(`${h}/beds`,{headers:{Authorization:`Bearer ${a}`}});g(b.data.filter(a=>"AVAILABLE"===a.current_status))}catch(a){console.error("Error fetching beds",a)}},[]),n=(0,e.useCallback)(async()=>{let a=localStorage.getItem("authToken");if(a)try{let c=await f.default.get(`${h}/transfers`,{headers:{Authorization:`Bearer ${a}`}});b(c.data.filter(a=>"PENDING"===a.status||!a.status)),l(!1)}catch(a){a.response?.status===401&&console.warn("Session expired in List component")}},[]);(0,e.useEffect)(()=>{n(),m();let a=setInterval(()=>{n(),m()},15e3);return()=>clearInterval(a)},[n,m]);let o=async(a,b)=>{let c=localStorage.getItem("authToken"),d=i[a];if("APPROVED"===b&&!d)return void alert("Please assign a destination bed.");try{await f.default.patch(`${h}/transfers/${a}`,{new_status:b,assigned_bed_id:"APPROVED"===b?parseInt(d):null},{headers:{Authorization:`Bearer ${c}`}}),n(),m()}catch(a){alert(`${b} failed. Verify backend route exists.`)}};return k&&0===a.length?(0,d.jsx)("div",{className:"p-10 text-center animate-pulse text-slate-400 font-bold uppercase tracking-widest",children:"Loading Requests..."}):(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden mt-6",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[(0,d.jsxs)("h2",{className:"text-sm font-black text-slate-800 tracking-tighter uppercase flex items-center gap-2",children:[(0,d.jsx)("span",{className:"flex h-2 w-2 rounded-full bg-indigo-500 animate-pulse"}),"Live Transfer Queue"]}),(0,d.jsxs)("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] font-black px-2 py-1 rounded-full",children:[a.length," PENDING"]})]}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"min-w-full divide-y divide-slate-100",children:[(0,d.jsx)("thead",{className:"bg-slate-50/30",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Patient Details"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Requirement"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deployment"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(a=>(0,d.jsxs)("tr",{className:`transition-colors ${"Emergency"===a.priority?"bg-rose-50/30":"hover:bg-slate-50/50"}`,children:[(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"text-sm font-bold text-slate-800 uppercase",children:a.patient_name}),(0,d.jsxs)("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:["Location: ",a.from_ward]})]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:`text-[10px] font-black px-2 py-1 rounded-md uppercase tracking-widest ${"Emergency"===a.priority?"bg-rose-600 text-white animate-pulse":"High"===a.priority?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-600"}`,children:a.priority})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-[11px] font-bold text-slate-600 uppercase",children:a.required_specialty}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap flex items-center gap-3",children:[(0,d.jsxs)("select",{className:"text-[10px] font-black border-none bg-slate-100 rounded-lg p-2 outline-none focus:ring-2 focus:ring-indigo-500",value:i[a.request_id||0]||"",onChange:b=>j({...i,[a.request_id||0]:b.target.value}),children:[(0,d.jsx)("option",{value:"",children:"Select Bed"}),c.filter(b=>b.specialty_type===a.required_specialty).map(a=>(0,d.jsxs)("option",{value:a.bed_id,children:["BED ",a.bed_id," (",a.ward_name,")"]},a.bed_id))]}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("button",{onClick:()=>a.request_id&&o(a.request_id,"APPROVED"),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-all shadow-sm",title:"Approve",children:"âœ…"}),(0,d.jsx)("button",{onClick:()=>a.request_id&&o(a.request_id,"REJECTED"),className:"p-2 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-600 hover:text-white transition-all",title:"Reject",children:"âœ•"})]})]})]},a.request_id))})]}),0===a.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-3xl mb-2",children:"âœ¨"}),(0,d.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Queue Clear - All Patients Assigned"})]})]})]})}]),c()}catch(a){c(a)}},!1),1913,a=>{"use strict";a.i(8171),a.i(7669),a.s([])},5731,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=b([f]);[f]=g.then?(await g)():g;let h="https://nbs-backend.onrender.com/api/v1",i=/\/api\/v1\/?$/.test(h)?h.replace(/\/$/,""):h.replace(/\/$/,"")+"/api/v1",j={Maternity:"Maternity Ward",ICU:"Intensive Care Unit",NICU:"Neonatal ICU",Pediatric:"Childrenâ€™s Wing","Emergency beds":"Emergency Dept",General:"General Ward"};a.s(["default",0,({onBedAdded:a,specialties:b})=>{let[c,g]=(0,e.useState)({bed_number:"",ward_name:"General Ward",specialty_type:"General",current_status:"AVAILABLE"}),[h,k]=(0,e.useState)(!1),l=localStorage.getItem("authToken");(0,e.useEffect)(()=>{let a=j[c.specialty_type];a&&g(b=>({...b,ward_name:a}))},[c.specialty_type]);let m=async b=>{b.preventDefault(),k(!0);try{await f.default.post(`${i}/beds`,c,{headers:{Authorization:`Bearer ${l}`}}),alert("New bed registered successfully!"),g({...c,bed_number:""}),a()}catch(a){alert(a.response?.data?.error||"Error creating bed.")}finally{k(!1)}};return(0,d.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-indigo-100",children:[(0,d.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center text-indigo-900",children:[(0,d.jsx)("span",{className:"mr-2",children:"âž•"})," Register New Bed"]}),(0,d.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Specialty Type"}),(0,d.jsx)("select",{className:"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none bg-gray-50 cursor-pointer",value:c.specialty_type,onChange:a=>g({...c,specialty_type:a.target.value}),children:b.filter(a=>"All"!==a).map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Bed Number"}),(0,d.jsx)("input",{type:"text",required:!0,placeholder:"e.g. B-01",className:"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none",value:c.bed_number,onChange:a=>g({...c,bed_number:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Ward Name"}),(0,d.jsx)("input",{type:"text",required:!0,className:"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none bg-indigo-50 font-medium",placeholder:"Ward Name",value:c.ward_name,onChange:a=>g({...c,ward_name:a.target.value})})]})]}),(0,d.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition-all shadow-md disabled:bg-gray-400 disabled:shadow-none",children:h?"Registering...":"Add Bed to Inventory"})]})]})}]),c()}catch(a){c(a)}},!1),9059,(a,b,c)=>{b.exports=a.r(1276)},3924,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=a.i(1742),h=a.i(6232),i=a.i(9028);a.i(1913);var j=a.i(5731),k=a.i(9059),l=b([f,g,h,i,j]);[f,g,h,i,j]=l.then?(await l)():l;let m="https://nbs-backend.onrender.com/api/v1",n=/\/api\/v1\/?$/.test(m)?m.replace(/\/$/,""):m.replace(/\/$/,"")+"/api/v1",o=["All","General","ICU","Pediatric","HDU","CCU","NICU","Emergency beds","PACU","PICU","Maternity"],p=({token:a})=>{let[b,c]=(0,e.useState)(""),[g,h]=(0,e.useState)(""),[i,j]=(0,e.useState)({type:"",msg:""}),k=async d=>{d.preventDefault();try{await f.default.post(`${n}/auth/admin-reset-password`,{targetUsername:b,newPassword:g},{headers:{Authorization:`Bearer ${a}`}}),j({type:"success",msg:`Password for ${b} updated successfully!`}),c(""),h("")}catch(a){j({type:"error",msg:a.response?.data?.error||"Reset failed"})}};return(0,d.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-sm border-2 border-red-50 mt-10",children:[(0,d.jsxs)("h2",{className:"text-xl font-bold text-red-700 mb-2 flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"ðŸ”"})," Admin: Staff Password Override"]}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Manual override for staff experiencing 401 Authentication errors."}),i.msg&&(0,d.jsx)("div",{className:`mb-4 p-3 rounded-lg text-sm font-bold ${"success"===i.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.msg}),(0,d.jsxs)("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)("input",{placeholder:"Exact Username",className:"border p-2 rounded-lg outline-none focus:ring-2 focus:ring-red-400",value:b,required:!0,onChange:a=>c(a.target.value)}),(0,d.jsx)("input",{type:"password",placeholder:"New Secure Password",className:"border p-2 rounded-lg outline-none focus:ring-2 focus:ring-red-400",value:g,required:!0,onChange:a=>h(a.target.value)}),(0,d.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-red-700 transition-all shadow-md",children:"Update Credentials"})]})]})};a.s(["default",0,()=>{let[a,b]=(0,e.useState)([]),[c,l]=(0,e.useState)(!0),[m,q]=(0,e.useState)(null),[r,s]=(0,e.useState)("All"),[t,u]=(0,e.useState)(!0),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1);f.default.interceptors.response.use(a=>a,a=>(a.response&&401===a.response.status&&(A(!0),localStorage.clear()),Promise.reject(a)));let B=(0,e.useMemo)(()=>JSON.parse(localStorage.getItem("user")||"{}"),[]),C=localStorage.getItem("authToken");(0,e.useEffect)(()=>{let a=async()=>{try{await f.default.get(`${n}/beds`,{headers:{Authorization:`Bearer ${C}`}}),u(!0)}catch{u(!1)}},b=setInterval(a,15e3);return()=>clearInterval(b)},[C]);let D=(0,e.useCallback)(async a=>{l(!0),q(null);try{let c=`${n}/beds`;a&&"All"!==a&&(c+=`?specialty_type=${a}`);let d=await f.default.get(c,{headers:{Authorization:`Bearer ${C}`}});b(d.data)}catch(a){a.response?.status===401?q("Session expired. Please log in again."):q("Could not load bed data.")}finally{l(!1)}},[C]);(0,e.useEffect)(()=>{C?D(r):window.location.href="/"},[r,D,C]);let E=(0,e.useMemo)(()=>({total:a.length,available:a.filter(a=>"AVAILABLE"===a.current_status).length,occupied:a.filter(a=>"OCCUPIED"===a.current_status).length,cleaning:a.filter(a=>"CLEANING"===a.current_status).length}),[a]),F=a.filter(a=>a.bed_number?.toLowerCase().includes(v.toLowerCase())||a.patient_name?.toLowerCase().includes(v.toLowerCase())||a.ward_name?.toLowerCase().includes(v.toLowerCase())),G=x?F:F.slice(0,6),H=()=>{localStorage.clear(),window.location.href="/"};return m?(0,d.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100 p-4",children:(0,d.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-red-200 text-center max-w-md w-full",children:[(0,d.jsx)("p",{className:"text-red-600 font-black text-2xl mb-2",children:"âš ï¸ Access Denied"}),(0,d.jsx)("p",{className:"text-gray-500 mb-6",children:m}),(0,d.jsx)("button",{onClick:H,className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg",children:"Return to Login"})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.default,{children:[(0,d.jsx)("title",{children:"No Bed Syndrome Tracker"}),(0,d.jsx)("meta",{name:"description",content:"Dashboard for monitoring hospital bed availability and patient admissions."})]}),(0,d.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,d.jsxs)("header",{className:"bg-indigo-950 text-white p-4 shadow-xl flex justify-between items-center sticky top-0 z-50 border-b border-indigo-800",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("h1",{className:"text-xl font-black tracking-tighter flex items-center gap-2",children:[(0,d.jsx)("span",{className:"bg-white text-indigo-900 p-1 rounded",children:"ðŸ¥"})," NO BED SYNDROME"]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full",children:[(0,d.jsx)("div",{className:`h-2 w-2 rounded-full ${t?"bg-emerald-400 animate-pulse":"bg-rose-500"}`}),(0,d.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-white/80",children:t?"System Live":"Connection Lost"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,d.jsx)("p",{className:"text-xs font-bold text-indigo-200 uppercase",children:B?.username}),(0,d.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-black uppercase ${B?.role==="ADMIN"?"bg-rose-500 text-white":"bg-emerald-500 text-white"}`,children:B?.role||"Staff"})]}),(0,d.jsx)("button",{onClick:H,className:"bg-rose-500 hover:bg-rose-600 px-4 py-2 rounded-lg text-xs font-black transition-all shadow-lg active:scale-95",children:"LOGOUT"})]})]}),(0,d.jsxs)("main",{className:"p-4 md:p-8 max-w-[1700px] mx-auto space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,d.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Total Capacity"}),(0,d.jsx)("p",{className:"text-2xl font-black text-slate-800",children:E.total})]}),(0,d.jsxs)("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100 shadow-sm",children:[(0,d.jsx)("p",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Available"}),(0,d.jsx)("p",{className:"text-2xl font-black text-emerald-700",children:E.available})]}),(0,d.jsxs)("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 shadow-sm",children:[(0,d.jsx)("p",{className:"text-[10px] font-bold text-rose-600 uppercase",children:"Occupied"}),(0,d.jsx)("p",{className:"text-2xl font-black text-rose-700",children:E.occupied})]}),(0,d.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 shadow-sm",children:[(0,d.jsx)("p",{className:"text-[10px] font-bold text-amber-600 uppercase",children:"Turnover/Cleaning"}),(0,d.jsx)("p",{className:"text-2xl font-black text-amber-700",children:E.cleaning})]})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col lg:flex-row gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)("span",{className:"absolute left-4 top-3 text-slate-400",children:"ðŸ”"}),(0,d.jsx)("input",{type:"text",placeholder:"Find Bed, Patient, or Ward...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium transition-all",value:v,onChange:a=>w(a.target.value)})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("select",{value:r,onChange:a=>s(a.target.value),className:"bg-slate-50 px-4 py-3 rounded-xl border-none font-bold text-sm text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:o.map(a=>(0,d.jsx)("option",{value:a,children:a},a))}),(0,d.jsxs)("button",{onClick:()=>{let b=a.filter(a=>"OCCUPIED"===a.current_status);if(0===b.length)return alert("No patients to export.");let c=b.map(a=>[a.bed_number,a.ward_name,a.specialty_type,a.patient_name||"N/A",new Date(a.updated_at).toLocaleString()]),d=["Bed,Ward,Specialty,Patient,Last Update",...c.map(a=>a.join(","))].join("\n"),e=new Blob([d],{type:"text/csv"}),f=URL.createObjectURL(e),g=document.createElement("a");g.href=f,g.download=`Census_${new Date().toISOString().split("T")[0]}.csv`,g.click()},className:"bg-slate-800 hover:bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-md active:scale-95 text-sm",children:[(0,d.jsx)("span",{children:"ðŸ“Š"})," ",(0,d.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[(0,d.jsxs)("div",{className:"xl:col-span-8 space-y-8",children:[(0,d.jsxs)("section",{children:[(0,d.jsx)("div",{className:"flex justify-between items-end mb-6",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-black text-slate-900",children:"Bed Inventory"}),(0,d.jsxs)("p",{className:"text-sm text-slate-400 font-medium",children:["Tracking ",F.length," units in ",r," sector"]})]})}),c?(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"h-64 bg-slate-200 animate-pulse rounded-2xl"},a))}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(a=>(0,d.jsx)(g.default,{bedData:a,onStatusChange:()=>D(r),token:C,userRole:B?.role},a.bed_id))}),(0,d.jsx)("div",{className:"mt-10 flex justify-center",children:F.length>6&&(0,d.jsx)("button",{onClick:()=>y(!x),className:"bg-white border-2 border-indigo-100 text-indigo-600 px-12 py-3 rounded-full font-black hover:bg-indigo-50 transition-all shadow-sm",children:x?"SHOW LESS":`VIEW ALL ${F.length} BEDS`})})]})]}),B?.role==="ADMIN"&&(0,d.jsx)(p,{token:C})]}),(0,d.jsx)("div",{className:"xl:col-span-4 space-y-8",children:(0,d.jsxs)("aside",{className:"sticky top-28 space-y-8",children:[(0,d.jsx)(j.default,{onBedAdded:()=>D(r),specialties:o}),(0,d.jsx)(h.default,{}),(0,d.jsx)(i.default,{})]})})]})]})]}),z&&(0,d.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center border border-slate-100",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ”‘"}),(0,d.jsx)("h2",{className:"text-xl font-black text-slate-800 mb-2",children:"Session Expired"}),(0,d.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"For your security, you have been logged out. Please sign in again to continue managing beds."}),(0,d.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-black hover:bg-indigo-700 transition-all shadow-lg",children:"RETURN TO LOGIN"})]})})]})}]),c()}catch(a){c(a)}},!1),1729,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=a.i(7899),h=b([f]);[f]=h.then?(await h)():h;let i="https://nbs-backend.onrender.com/api/v1",j=/\/api\/v1\/?$/.test(i)?i.replace(/\/$/,""):i.replace(/\/$/,"")+"/api/v1";a.s(["default",0,()=>{let[a,b]=(0,e.useState)({username:"",password:"",confirmPassword:"",role:"STAFF"}),[c,h]=(0,e.useState)(""),[i,k]=(0,e.useState)(!1),l=(0,g.useNavigate)(),m=c=>{b({...a,[c.target.name]:c.target.value})},n=async b=>{if(b.preventDefault(),h(""),a.password!==a.confirmPassword)return h("Passwords do not match.");if(a.password.length<6)return h("Password must be at least 6 characters long.");k(!0);try{await f.default.post(`${j}/auth/signup`,{username:a.username,password:a.password,role:a.role});try{let{token:b,user:c}=(await f.default.post(`${j}/auth/login`,{username:a.username,password:a.password})).data;localStorage.setItem("authToken",b),localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("userRole",c.role),l("/dashboard")}catch(a){console.warn("Auto-login failed after signup",a),alert("Account created. Please log in."),l("/")}}catch(a){h(a.response?.data?.error||"Registration failed.")}finally{k(!1)}};return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-slate-200",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Staff Registration"}),(0,d.jsx)("p",{className:"text-slate-500 mt-2",children:"No Bed Syndrome Tracker"})]}),c&&(0,d.jsxs)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm font-medium animate-pulse",children:["âš ï¸ ",c]}),(0,d.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Username"}),(0,d.jsx)("input",{name:"username",type:"text",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. jdoe_admin",onChange:m})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password"}),(0,d.jsx)("input",{name:"password",type:"password",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",onChange:m})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Confirm Password"}),(0,d.jsx)("input",{name:"confirmPassword",type:"password",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",onChange:m})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Access Level"}),(0,d.jsxs)("select",{name:"role",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",onChange:m,children:[(0,d.jsx)("option",{value:"STAFF",children:"Clinical Staff"}),(0,d.jsx)("option",{value:"ADMIN",children:"Bed Manager / Admin"})]})]}),(0,d.jsx)("button",{type:"submit",disabled:i,className:`w-full py-3 rounded-lg font-bold text-white transition-all ${i?"bg-slate-400":"bg-blue-600 hover:bg-blue-700"}`,children:i?"Processing...":"Create Account"})]}),(0,d.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,d.jsx)("span",{className:"text-slate-600",children:"Already have an account? "}),(0,d.jsx)(g.Link,{to:"/",className:"text-blue-600 font-bold hover:underline",children:"Log In"})]})]})})}]),c()}catch(a){c(a)}},!1),5700,a=>{"use strict";var b=a.i(8171),c=a.i(7669),d=a.i(7899);a.s(["default",0,()=>{let[a,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)("");return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg w-96 border border-slate-200",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Reset Password"}),a?(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("div",{className:"bg-green-100 text-green-700 p-3 rounded-lg text-sm",children:["Request received for ",(0,b.jsx)("strong",{children:f}),"."]}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Please contact your **Shift Lead** or **IT Admin** to finalize your password reset."})]}):(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e(!0)},className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Enter your username or ID to request a password reset."}),(0,b.jsx)("input",{type:"text",required:!0,placeholder:"Username / Staff ID",className:"w-full p-2 border rounded-lg outline-none focus:ring-2 focus:ring-indigo-500",onChange:a=>g(a.target.value)}),(0,b.jsx)("button",{className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-bold hover:bg-indigo-700",children:"Send Request"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)(d.Link,{to:"/",className:"text-indigo-600 text-sm font-medium hover:underline",children:"â† Back to Login"})})]})})}])},1047,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(3309),g=b([f]);[f]=g.then?(await g)():g,a.s(["default",0,()=>{let[a,b]=(0,e.useState)([]),[c,g]=(0,e.useState)(null),[h,i]=(0,e.useState)([]);(0,e.useEffect)(()=>{f.default.get("https://nbs-backend.onrender.com/api/v1/api/v1/public/hospitals").then(a=>b(a.data)).catch(a=>console.error("Error loading hospitals",a))},[]);let j=async a=>{if(c===a)return void g(null);try{let b=await f.default.get(`https://nbs-backend.onrender.com/api/v1/api/v1/public/hospitals/${a}/availability`);i(b.data),g(a)}catch(a){console.error("Error fetching ward details",a)}};return(0,d.jsxs)("div",{className:"max-w-2xl mx-auto p-4 space-y-4",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Available Beds Near You"}),0===a.length&&(0,d.jsxs)("div",{className:"p-8 text-center border-2 border-dashed rounded-xl text-gray-400",children:[(0,d.jsx)("p",{children:"No hospitals found or connecting to server..."}),(0,d.jsxs)("p",{className:"text-xs mt-2",children:["Checking: ","https://nbs-backend.onrender.com/api/v1"]})]}),a.map(a=>(0,d.jsxs)("div",{className:"border rounded-xl shadow-sm bg-white overflow-hidden",children:[(0,d.jsxs)("button",{onClick:()=>j(a.id),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition",children:[(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("h3",{className:"font-bold text-lg",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:a.location})]}),(0,d.jsxs)("div",{className:`px-3 py-1 rounded-full text-sm font-bold ${a.available_beds>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a.available_beds," available"]})]}),c===a.id&&(0,d.jsx)("div",{className:"p-4 bg-gray-50 border-t grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map(a=>(0,d.jsxs)("div",{className:"p-3 bg-white border rounded shadow-sm",children:[(0,d.jsx)("p",{className:"text-xs uppercase font-semibold text-gray-400",children:a.ward_name}),(0,d.jsxs)("p",{className:"text-lg font-bold",children:[(0,d.jsx)("span",{className:"text-blue-600",children:a.available_beds}),(0,d.jsx)("span",{className:"text-gray-300 mx-1",children:"/"}),(0,d.jsx)("span",{className:"text-gray-600",children:a.total_beds})]})]},a.ward_name))})]},a.id)),(0,d.jsx)("div",{className:"mt-10 pt-6 border-t border-gray-100 text-center",children:(0,d.jsx)("a",{href:"/login",className:"text-blue-500 hover:text-blue-700 text-sm font-medium transition",children:"Hospital Staff? Log in here to manage beds â†’"})})]})}]),c()}catch(a){c(a)}},!1),2173,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7899),f=a.i(9469),g=a.i(3924),h=a.i(1729),i=a.i(5700),j=a.i(1047),k=b([f,g,h,j]);[f,g,h,j]=k.then?(await k)():k;let l=({children:a})=>(0,d.jsx)(e.Navigate,{to:"/login"});a.s(["default",0,()=>(0,d.jsx)(e.BrowserRouter,{children:(0,d.jsxs)(e.Routes,{children:[(0,d.jsx)(e.Route,{path:"/find-bed",element:(0,d.jsx)(j.default,{})}),(0,d.jsx)(e.Route,{path:"/login",element:(0,d.jsx)(f.default,{})}),(0,d.jsx)(e.Route,{path:"/forgot-password",element:(0,d.jsx)(i.default,{})}),(0,d.jsx)(e.Route,{path:"/signup",element:(0,d.jsx)(h.default,{})}),(0,d.jsx)(e.Route,{path:"/dashboard",element:(0,d.jsx)(l,{children:(0,d.jsx)(g.default,{})})}),(0,d.jsx)(e.Route,{path:"/",element:(0,d.jsx)(e.Navigate,{to:"/find-bed"})}),(0,d.jsx)(e.Route,{path:"*",element:(0,d.jsx)(e.Navigate,{to:"/find-bed"})})]})})]),c()}catch(a){c(a)}},!1),6683,a=>{a.n(a.i(2173))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7985a8b5._.js.map