{"version":3,"sources":["../../../../src/pages/LoginPage.jsx","../../../../src/components/ConfirmationModal.jsx","../../../../src/components/AdmissionModal.jsx","../../../../src/components/BedHistory.jsx","../../../../src/components/BedCard.jsx","../../../../src/components/TransferRequestForm.tsx","../../../../src/components/TransferRequestList.tsx","../../../../src/components/HospitalCensus.jsx","../../../../src/components/AddBedForm.jsx","../../../../node_modules/next/head.js","../../../../src/pages/DashboardPage.jsx","../../../../src/pages/SignupPage.jsx","../../../../src/pages/ForgotPasswordPage.jsx","../../../../src/components/HospitalDiscovery.tsx","../../../../src/App.tsx"],"sourcesContent":["// frontend/src/pages/LoginPage.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom'; // Use React Router's Link\r\n\r\n// Normalize API base: allow NEXT_PUBLIC_API_URL to be either host or host+/api/v1\r\nconst _RAW_API = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\nconst API_BASE_URL = /\\/api\\/v1\\/?$/.test(_RAW_API) ? _RAW_API.replace(/\\/$/, '') : _RAW_API.replace(/\\/$/, '') + '/api/v1';\r\n\r\nconst LoginPage = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setError(null);\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post(`${API_BASE_URL}/auth/login`, {\r\n                username,\r\n                password,\r\n            });\r\n\r\n            localStorage.setItem('token', response.data.token);\r\n            localStorage.setItem('user', JSON.stringify(response.data.user));\r\n\r\n            const { token, user } = response.data;\r\n            \r\n            // --- Crucial Step: Store the JWT securely ---\r\n            // Storing in localStorage is acceptable for an MVP/testing environment.\r\n            // For production, consider using HttpOnly cookies for better security.\r\n            localStorage.setItem('authToken', token);\r\n            localStorage.setItem('userRole', user.role); \r\n\r\n            console.log(`User ${user.username} logged in successfully.`);\r\n\r\n            // Redirect the user to the main dashboard page\r\n            navigate('/dashboard'); \r\n\r\n        } catch (err) {\r\n            console.error('Login failed:', err);\r\n            // Display friendly error message\r\n            setError(err.response?.data?.error || 'Login failed. Check server connection.');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n            <div className=\"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-center text-indigo-800\">No Bed Syndrome Tracker Login</h2>\r\n                \r\n                <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                    \r\n                    {/* Username Field */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                            className=\"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Password Field */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            className=\"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Error Message */}\r\n                    {error && (\r\n                        <p className=\"text-sm font-medium text-red-600\">{error}</p>\r\n                    )}\r\n\r\n                    {/* Submit Button */}\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n                    >\r\n                        {isLoading ? 'Logging In...' : 'Login'}\r\n                    </button>\r\n                    <Link to=\"/forgot-password\" title=\"Reset Password\" className=\"text-sm text-indigo-600 hover:underline block\">\r\n                        Forgot password?\r\n                    </Link>\r\n                    <Link to=\"/signup\" className=\"text-blue-600 font-bold\">\r\n                        Register New Account\r\n                    </Link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;","// frontend/src/components/ConfirmationModal.jsx\r\nimport React from 'react';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4\">\r\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\r\n                        <span className=\"text-red-600 text-xl font-bold\">‚ö†Ô∏è</span>\r\n                    </div>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-2\">{title}</h3>\r\n                    <p className=\"text-sm text-gray-500 mb-6\">{message}</p>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                    <button \r\n                        onClick={onClose}\r\n                        className=\"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-medium transition-colors\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        className=\"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-sm\"\r\n                    >\r\n                        Confirm Delete\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;","// frontend/src/components/AdmissionModal.jsx\r\nimport React, { useState } from 'react';\r\n\r\nconst AdmissionModal = ({ isOpen, onClose, onConfirm, bedNumber }) => {\r\n    const [patientName, setPatientName] = useState('');\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleConfirm = () => {\r\n        if (!patientName.trim()) {\r\n            alert(\"Please enter a patient name.\");\r\n            return;\r\n        }\r\n        onConfirm(patientName);\r\n        setPatientName(''); // Reset for next time\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4\">\r\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6\">\r\n                <div className=\"text-center mb-6\">\r\n                    <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4\">\r\n                        <span className=\"text-green-600 text-xl font-bold\">üë§</span>\r\n                    </div>\r\n                    <h3 className=\"text-xl font-bold text-gray-900\">Direct Admission</h3>\r\n                    <p className=\"text-sm text-gray-500\">Assigning patient to Bed {bedNumber}</p>\r\n                </div>\r\n\r\n                <div className=\"mb-6\">\r\n                    <label className=\"block text-xs font-bold text-gray-400 uppercase mb-1\">Patient Full Name</label>\r\n                    <input \r\n                        autoFocus\r\n                        type=\"text\"\r\n                        className=\"w-full border-2 border-gray-100 p-3 rounded-lg outline-none focus:border-green-500 transition-colors\"\r\n                        placeholder=\"Enter name...\"\r\n                        value={patientName}\r\n                        onChange={(e) => setPatientName(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex gap-3\">\r\n                    <button onClick={onClose} className=\"flex-1 px-4 py-2 bg-gray-100 text-gray-800 rounded-lg font-medium\">\r\n                        Cancel\r\n                    </button>\r\n                    <button onClick={handleConfirm} className=\"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium shadow-md\">\r\n                        Confirm Admission\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdmissionModal;","// frontend/src/components/BedHistory.jsx\r\nimport React from 'react';\r\n\r\nconst BedHistory = ({ history }) => (\r\n    <div className=\"mt-6 border-t pt-4\">\r\n        <h4 className=\"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2\">\r\n            üïí Recent Bed Activity\r\n        </h4>\r\n        <div className=\"space-y-2 max-h-40 overflow-y-auto pr-2\">\r\n            {history.length === 0 ? (\r\n                <p className=\"text-xs text-gray-400 italic\">No recent history</p>\r\n            ) : (\r\n                history.map((log, i) => (\r\n                    <div key={i} className=\"text-[11px] flex justify-between bg-gray-50 p-2 rounded border-l-2 border-indigo-400\">\r\n                        <div>\r\n                            <span className=\"font-bold text-indigo-900\">{log.action_type}</span>: {log.patient_name}\r\n                        </div>\r\n                        <div className=\"text-gray-400\">\r\n                            {new Date(log.timestamp).toLocaleDateString()}\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            )}\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default BedHistory;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport AdmissionModal from './AdmissionModal';\r\nimport BedHistory from './BedHistory';\r\n\r\n// const API_BASE_URL = 'http://localhost:3000/api/v1';\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api/v1';\r\n\r\nconst BedCard = ({ bedData, onStatusChange, token, userRole }) => {\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [isAdmissionModalOpen, setIsAdmissionModalOpen] = useState(false);\r\n    const [isDischargeModalOpen, setIsDischargeModalOpen] = useState(false);\r\n    const [history, setHistory] = useState([]);\r\n    const [status, setStatus] = useState(bedData.current_status);\r\n    const bedId = bedData.bed_id;\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const fetchHistory = async () => {\r\n            try {\r\n                const res = await axios.get(`${API_BASE_URL}/beds/${bedId}/history`, {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                });\r\n                if (isMounted) setHistory(res.data);\r\n            } catch (err) { \r\n                // If the backend isn't ready, just set history to empty so the UI doesn't break\r\n                if (err.response?.status === 404) {\r\n                    console.warn(\"History endpoint not found on server yet.\");\r\n                    setHistory([]); \r\n                }\r\n            };\r\n        };\r\n\r\n        fetchHistory();\r\n        setStatus(bedData.current_status);\r\n        \r\n        return () => { isMounted = false; };\r\n    }, [bedData.current_status, bedId, token]);\r\n\r\n    // --- API HANDLERS ---\r\n\r\n    const handleAdmission = async (patientName) => {\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/beds/${bedId}/status`, \r\n                { \r\n                    new_status: 'OCCUPIED', \r\n                    patient_name: patientName, // Explicitly pass name\r\n                    performed_by: userRole \r\n                },\r\n                { headers: { 'Authorization': `Bearer ${token}` } }\r\n            );\r\n            onStatusChange();\r\n            setIsAdmissionModalOpen(false);\r\n        } catch (error) { alert('Admission failed.'); }\r\n    };\r\n\r\n    const handleDischarge = async () => {\r\n        try {\r\n            // When discharging, we explicitly clear the patient_name in the DB\r\n            await axios.post(`${API_BASE_URL}/beds/${bedId}/status`,\r\n                { \r\n                    new_status: 'CLEANING',\r\n                    patient_name: null // Clear the name upon discharge\r\n                },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            onStatusChange();\r\n            setIsDischargeModalOpen(false);\r\n        } catch (err) { alert('Discharge failed.'); }\r\n    };\r\n\r\n    const handleMarkClean = async () => {\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/beds/${bedId}/status`,\r\n                { new_status: 'AVAILABLE' },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            onStatusChange();\r\n        } catch (err) { alert('Could not mark bed clean.'); }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete(`${API_BASE_URL}/beds/${bedId}`, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            onStatusChange();\r\n            setIsDeleteModalOpen(false);\r\n        } catch (err) { alert('Delete failed. Discharge Patient First'); }\r\n    };\r\n\r\n    // --- UI HELPERS ---\r\n    const isLongStay = () => {\r\n        if (status !== 'OCCUPIED' || !bedData.updated_at) return false;\r\n        return (new Date() - new Date(bedData.updated_at)) / (1000 * 60 * 60) >= 48;\r\n    };\r\n\r\n    const getCardStyle = () => {\r\n        let base = \"\";\r\n        switch (status) {\r\n            case 'AVAILABLE': base = 'bg-emerald-50 text-emerald-800 border-emerald-200'; break;\r\n            case 'OCCUPIED': base = 'bg-rose-50 text-rose-800 border-rose-200'; break;\r\n            case 'CLEANING': base = 'bg-amber-50 text-amber-800 border-amber-200'; break;\r\n            default: base = 'bg-gray-50 text-gray-800 border-gray-200';\r\n        }\r\n        if (bedData.specialty_type === 'Maternity') base += ' border-l-8 border-l-pink-400';\r\n        if (bedData.specialty_type === 'ICU') base += ' border-l-8 border-l-indigo-600';\r\n        if (isLongStay()) base += ' ring-2 ring-rose-500 ring-offset-2';\r\n        return base;\r\n    };\r\n\r\n    return (\r\n        <div className={`p-5 border-2 rounded-xl shadow-sm transition-all flex flex-col justify-between relative min-h-[340px] ${getCardStyle()}`}>\r\n            \r\n            {/* ALERT OVERLAYS */}\r\n            {isLongStay() && (\r\n                <div className=\"absolute -top-3 left-4 bg-rose-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg animate-bounce z-20\">\r\n                    ‚ö†Ô∏è LONG STAY {'> 48 hrs'}\r\n                </div>\r\n            )}\r\n            \r\n            {userRole?.toUpperCase() === 'ADMIN' && (\r\n                <button onClick={() => setIsDeleteModalOpen(true)} className=\"absolute top-3 right-3 p-2 bg-white/60 hover:bg-rose-500 hover:text-white text-rose-600 rounded-full transition-all z-30 shadow-sm border border-rose-100\">\r\n                    <span className=\"text-sm\">üóëÔ∏è</span>\r\n                </button>\r\n            )}\r\n\r\n            {/* MODALS */}\r\n            <AdmissionModal \r\n                isOpen={isAdmissionModalOpen} \r\n                onClose={() => setIsAdmissionModalOpen(false)} \r\n                onConfirm={handleAdmission} \r\n                bedNumber={bedData.bed_number} \r\n            />\r\n            \r\n            <ConfirmationModal \r\n                isOpen={isDischargeModalOpen} \r\n                onClose={() => setIsDischargeModalOpen(false)} \r\n                onConfirm={handleDischarge} \r\n                title=\"Confirm Discharge\" \r\n                message={`Discharge ${bedData.patient_name || 'Patient'}? Bed will move to CLEANING.`} \r\n            />\r\n\r\n            <ConfirmationModal \r\n                isOpen={isDeleteModalOpen} \r\n                onClose={() => setIsDeleteModalOpen(false)} \r\n                onConfirm={handleDelete} \r\n                title=\"Delete Bed\" \r\n                message=\"Permanently remove this bed from inventory?\" \r\n            />\r\n\r\n            {/* CARD CONTENT */}\r\n            <div>\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                    <h3 className=\"font-black text-xl text-slate-900 tracking-tight\">Bed {bedData.bed_number}</h3>\r\n                    <span className=\"text-[9px] uppercase font-black px-2 py-1 rounded-md border border-current\">{status}</span>\r\n                </div>\r\n                \r\n                <div className=\"text-xs space-y-1 mb-4\">\r\n                    <p><span className=\"text-slate-400 font-bold uppercase text-[10px]\">Ward:</span> {bedData.ward_name}</p>\r\n                    <p><span className=\"text-slate-400 font-bold uppercase text-[10px]\">Type:</span> {bedData.specialty_type}</p>\r\n                </div>\r\n\r\n                {status === 'OCCUPIED' && (\r\n                    <div className=\"p-3 bg-white/90 rounded-lg border border-rose-100 shadow-sm mb-4\">\r\n                        <p className=\"text-[9px] uppercase font-bold text-rose-500 mb-0.5 tracking-tighter\">Current Patient</p>\r\n                        <p className=\"text-sm font-bold text-slate-900 truncate\">\r\n                            üë§ {bedData.patient_name || 'Anonymous'}\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <BedHistory history={history} />\r\n            </div>\r\n            \r\n            {/* ACTION BUTTONS */}\r\n            <div className=\"mt-5 flex flex-col gap-2\">\r\n                {status === 'OCCUPIED' && (\r\n                    <button className=\"bg-rose-600 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-rose-700 shadow-md transition-all active:scale-95\" \r\n                        onClick={() => setIsDischargeModalOpen(true)}>Discharge</button>\r\n                )}\r\n                {status === 'CLEANING' && (\r\n                    <button className=\"bg-amber-500 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-amber-600 shadow-md transition-all active:scale-95\" \r\n                        onClick={handleMarkClean}>Mark Clean</button>\r\n                )}\r\n                {status === 'AVAILABLE' && (\r\n                    <button className=\"bg-emerald-600 text-white font-bold py-2.5 rounded-lg text-xs hover:bg-emerald-700 shadow-md transition-all active:scale-95\" \r\n                        onClick={() => setIsAdmissionModalOpen(true)}>Admit Patient</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BedCard;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { TransferRequest, PriorityLevel } from '../types/transfer';\r\n\r\n// Normalize API base: allow NEXT_PUBLIC_API_URL to be either host or host+/api/v1\r\nconst _RAW_API = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\nconst API_BASE_URL = /\\/api\\/v1\\/?$/.test(_RAW_API) ? _RAW_API.replace(/\\/$/, '') : _RAW_API.replace(/\\/$/, '') + '/api/v1';\r\nconst SPECIALTIES = ['General', 'ICU', 'Pediatric', 'HDU', 'CCU', 'NICU', 'Emergency beds', 'PACU', 'PICU', 'Maternity'];\r\nconst PRIORITIES: PriorityLevel[] = ['Low', 'Medium', 'High', 'Emergency'];\r\n\r\nconst TransferRequestForm: React.FC = () => {\r\n    const [formData, setFormData] = useState<TransferRequest>({\r\n        patient_name: '',\r\n        from_ward: '',\r\n        required_specialty: 'General',\r\n        priority: 'Medium',\r\n        clinical_notes: ''\r\n    });\r\n\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        setMessage(null);\r\n\r\n        try {\r\n            const token = localStorage.getItem('authToken');\r\n            \r\n            // Critical check for that 401 error prevention\r\n            if (!token) {\r\n                setMessage({ type: 'error', text: 'Authentication missing. Please log in.' });\r\n                return;\r\n            }\r\n\r\n            await axios.post(`${API_BASE_URL}/transfers`, formData, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n\r\n            setMessage({ type: 'success', text: 'Transfer request logged and patient queued!' });\r\n            \r\n            // Reset form to original state\r\n            setFormData({ \r\n                patient_name: '', \r\n                from_ward: '', \r\n                required_specialty: 'General', \r\n                priority: 'Medium', \r\n                clinical_notes: '' \r\n            });\r\n\r\n        } catch (err: any) {\r\n            if (err.response?.status === 401) {\r\n                setMessage({ type: 'error', text: 'Session expired. Please refresh and log in.' });\r\n            } else {\r\n                setMessage({ type: 'error', text: 'Failed to submit request. Check connection.' });\r\n            }\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100\">\r\n            <div className=\"flex items-center gap-2 mb-6\">\r\n                <span className=\"text-xl\">üìã</span>\r\n                <h2 className=\"text-lg font-black text-slate-800 tracking-tight uppercase\">New Transfer</h2>\r\n            </div>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n                {/* Patient Name - Maps to patient_name in DB */}\r\n                <div>\r\n                    <label className=\"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1\">Patient Identity</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Full Name or Hospital ID\"\r\n                        required\r\n                        className=\"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all outline-none\"\r\n                        value={formData.patient_name}\r\n                        onChange={(e) => setFormData({...formData, patient_name: e.target.value})}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1\">Source Ward</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"e.g. A&E\"\r\n                            required\r\n                            className=\"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all outline-none\"\r\n                            value={formData.from_ward}\r\n                            onChange={(e) => setFormData({...formData, from_ward: e.target.value})}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1\">Target Specialty</label>\r\n                        <select \r\n                            className=\"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all cursor-pointer font-bold outline-none\"\r\n                            value={formData.required_specialty}\r\n                            onChange={(e) => setFormData({...formData, required_specialty: e.target.value})}\r\n                        >\r\n                            {SPECIALTIES.map(s => <option key={s} value={s}>{s}</option>)}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Priority Toggle Buttons */}\r\n                <div>\r\n                    <label className=\"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-1\">Triage Priority</label>\r\n                    <div className=\"grid grid-cols-4 gap-2\">\r\n                        {PRIORITIES.map(p => (\r\n                            <button\r\n                                key={p}\r\n                                type=\"button\"\r\n                                onClick={() => setFormData({...formData, priority: p})}\r\n                                className={`py-2 rounded-lg text-[10px] font-black transition-all border ${\r\n                                    formData.priority === p \r\n                                    ? (p === 'Emergency' ? 'bg-rose-600 border-rose-600 text-white' : 'bg-indigo-600 border-indigo-600 text-white shadow-md shadow-indigo-100') \r\n                                    : 'bg-white border-slate-100 text-slate-400 hover:border-slate-300'\r\n                                }`}\r\n                            >\r\n                                {p.toUpperCase()}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-[10px] font-black text-slate-400 uppercase mb-1 ml-1\">Clinical Indication</label>\r\n                    <textarea\r\n                        placeholder=\"Reason for transfer (Handover notes)...\"\r\n                        className=\"w-full bg-slate-50 border-none rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 transition-all resize-none outline-none\"\r\n                        rows={3}\r\n                        value={formData.clinical_notes}\r\n                        onChange={(e) => setFormData({...formData, clinical_notes: e.target.value})}\r\n                    />\r\n                </div>\r\n\r\n                {message && (\r\n                    <div className={`p-3 rounded-xl text-xs font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1 ${\r\n                        message.type === 'success' ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'\r\n                    }`}>\r\n                        <span>{message.type === 'success' ? '‚úÖ' : '‚ö†Ô∏è'}</span>\r\n                        {message.text}\r\n                    </div>\r\n                )}\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className=\"w-full bg-indigo-950 text-white py-4 rounded-xl font-black text-xs tracking-widest hover:bg-indigo-900 disabled:bg-slate-300 transition-all active:scale-[0.98] shadow-lg shadow-indigo-100/50\"\r\n                >\r\n                    {isSubmitting ? 'PROCESSING...' : 'DISPATCH REQUEST'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TransferRequestForm;","import React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { TransferRequest } from '../types/transfer';\r\n\r\n// NEXT_PUBLIC_API_URL should point to the API base (including `/api/v1`) in .env.local.\r\n// Fallback to localhost dev API if missing.\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api/v1';\r\n\r\ninterface Bed {\r\n    bed_id: number;\r\n    ward_name: string;\r\n    specialty_type: string;\r\n    current_status: string;\r\n}\r\n\r\nconst TransferRequestList: React.FC = () => {\r\n    const [requests, setRequests] = useState<TransferRequest[]>([]);\r\n    const [availableBeds, setAvailableBeds] = useState<Bed[]>([]);\r\n    const [selectedBeds, setSelectedBeds] = useState<Record<number, string>>({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchBeds = useCallback(async () => {\r\n        const token = localStorage.getItem('authToken');\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/beds`, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            setAvailableBeds(response.data.filter((b: Bed) => b.current_status === 'AVAILABLE'));\r\n        } catch (err) {\r\n            console.error(\"Error fetching beds\", err);\r\n        }\r\n    }, []);\r\n\r\n    const fetchRequests = useCallback(async () => {\r\n        const token = localStorage.getItem('authToken');\r\n        if (!token) return;\r\n\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/transfers`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            // Filter only pending requests for this list\r\n            setRequests(res.data.filter((r: any) => r.status === 'PENDING' || !r.status));\r\n            setLoading(false);\r\n        } catch (err: any) {\r\n            if (err.response?.status === 401) {\r\n                console.warn(\"Session expired in List component\");\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchRequests();\r\n        fetchBeds();\r\n        const interval = setInterval(() => {\r\n            fetchRequests();\r\n            fetchBeds();\r\n        }, 15000); // Polling every 15s for \"Live\" feel\r\n        return () => clearInterval(interval);\r\n    }, [fetchRequests, fetchBeds]);\r\n\r\n    const handleAction = async (id: number, action: 'APPROVED' | 'REJECTED') => {\r\n        const token = localStorage.getItem('authToken');\r\n        const bedId = selectedBeds[id];\r\n\r\n        if (action === 'APPROVED' && !bedId) {\r\n            alert(\"Please assign a destination bed.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await axios.patch(`${API_BASE_URL}/transfers/${id}`, \r\n                { \r\n                    new_status: action,\r\n                    assigned_bed_id: action === 'APPROVED' ? parseInt(bedId) : null \r\n                },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            // Instant refresh\r\n            fetchRequests();\r\n            fetchBeds();\r\n        } catch (err) {\r\n            alert(`${action} failed. Verify backend route exists.`);\r\n        }\r\n    };\r\n\r\n    if (loading && requests.length === 0) return <div className=\"p-10 text-center animate-pulse text-slate-400 font-bold uppercase tracking-widest\">Loading Requests...</div>;\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden mt-6\">\r\n            <div className=\"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50\">\r\n                <h2 className=\"text-sm font-black text-slate-800 tracking-tighter uppercase flex items-center gap-2\">\r\n                    <span className=\"flex h-2 w-2 rounded-full bg-indigo-500 animate-pulse\"></span>\r\n                    Live Transfer Queue\r\n                </h2>\r\n                <span className=\"bg-indigo-100 text-indigo-700 text-[10px] font-black px-2 py-1 rounded-full\">\r\n                    {requests.length} PENDING\r\n                </span>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-slate-100\">\r\n                    <thead className=\"bg-slate-50/30\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest\">Patient Details</th>\r\n                            <th className=\"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest\">Priority</th>\r\n                            <th className=\"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest\">Requirement</th>\r\n                            <th className=\"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest\">Deployment</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-slate-100\">\r\n                        {requests.map((req) => (\r\n                            <tr key={req.request_id} className={`transition-colors ${req.priority === 'Emergency' ? 'bg-rose-50/30' : 'hover:bg-slate-50/50'}`}>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <div className=\"text-sm font-bold text-slate-800 uppercase\">{req.patient_name}</div>\r\n                                    <div className=\"text-[10px] font-bold text-slate-400 uppercase tracking-tighter\">Location: {req.from_ward}</div>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className={`text-[10px] font-black px-2 py-1 rounded-md uppercase tracking-widest ${\r\n                                        req.priority === 'Emergency' ? 'bg-rose-600 text-white animate-pulse' : \r\n                                        req.priority === 'High' ? 'bg-orange-100 text-orange-600' : 'bg-slate-100 text-slate-600'\r\n                                    }`}>\r\n                                        {req.priority}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-[11px] font-bold text-slate-600 uppercase\">\r\n                                    {req.required_specialty}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap flex items-center gap-3\">\r\n                                    <select \r\n                                        className=\"text-[10px] font-black border-none bg-slate-100 rounded-lg p-2 outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                                        value={selectedBeds[req.request_id || 0] || \"\"}\r\n                                        onChange={(e) => setSelectedBeds({...selectedBeds, [req.request_id || 0]: e.target.value})}\r\n                                    >\r\n                                        <option value=\"\">Select Bed</option>\r\n                                        {availableBeds\r\n                                            .filter(b => b.specialty_type === req.required_specialty)\r\n                                            .map(b => (\r\n                                                <option key={b.bed_id} value={b.bed_id}>\r\n                                                    BED {b.bed_id} ({b.ward_name})\r\n                                                </option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n\r\n                                    <div className=\"flex gap-1\">\r\n                                        <button \r\n                                            onClick={() => req.request_id && handleAction(req.request_id, 'APPROVED')}\r\n                                            className=\"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-all shadow-sm\"\r\n                                            title=\"Approve\"\r\n                                        >\r\n                                            ‚úÖ\r\n                                        </button>\r\n                                        <button \r\n                                            onClick={() => req.request_id && handleAction(req.request_id, 'REJECTED')}\r\n                                            className=\"p-2 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-600 hover:text-white transition-all\"\r\n                                            title=\"Reject\"\r\n                                        >\r\n                                            ‚úï\r\n                                        </button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {requests.length === 0 && (\r\n                    <div className=\"text-center py-12\">\r\n                        <div className=\"text-3xl mb-2\">‚ú®</div>\r\n                        <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Queue Clear - All Patients Assigned</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TransferRequestList;","// frontend/src/components/HospitalCensus.jsx\r\n\r\nimport React from 'react';\r\n\r\nconst HospitalCensus = ({ beds }) => {\r\n    const total = beds.length;\r\n    const occupied = beds.filter(b => b.current_status === 'OCCUPIED').length;\r\n    const available = beds.filter(b => b.current_status === 'AVAILABLE').length;\r\n    \r\n    const occupancyRate = total > 0 ? Math.round((occupied / total) * 100) : 0;\r\n\r\n    // Group beds by specialty to create the breakdown\r\n    const specialtyData = beds.reduce((acc, bed) => {\r\n        const spec = bed.specialty_type;\r\n        if (!acc[spec]) acc[spec] = { total: 0, available: 0 };\r\n        acc[spec].total += 1;\r\n        if (bed.current_status === 'AVAILABLE') acc[spec].available += 1;\r\n        return acc;\r\n    }, {});\r\n\r\n    return (\r\n        <div className=\"space-y-6 mb-8\">\r\n            {/* Top Level Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"bg-indigo-900 text-white p-6 rounded-xl shadow-lg\">\r\n                    <p className=\"text-xs font-bold uppercase opacity-80\">Global Occupancy</p>\r\n                    <p className=\"text-4xl font-black\">{occupancyRate}%</p>\r\n                    <div className=\"w-full bg-indigo-700 h-2 mt-4 rounded-full overflow-hidden\">\r\n                        <div className=\"bg-white h-full\" style={{ width: `${occupancyRate}%` }}></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                    <p className=\"text-xs font-bold text-gray-500 uppercase\">Available Beds</p>\r\n                    <p className=\"text-4xl font-black text-green-600\">{available}</p>\r\n                    <p className=\"text-sm text-gray-400 mt-2\">Ready for admissions</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                    <p className=\"text-xs font-bold text-gray-500 uppercase\">Total Capacity</p>\r\n                    <p className=\"text-4xl font-black text-gray-800\">{total}</p>\r\n                    <p className=\"text-sm text-gray-400 mt-2\">Registered across all wards</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Specialty Breakdown Table */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                <div className=\"bg-gray-50 px-6 py-3 border-b\">\r\n                    <h3 className=\"text-sm font-bold text-gray-700 uppercase\">Specialty Capacity Breakdown</h3>\r\n                </div>\r\n                <table className=\"min-w-full divide-y divide-gray-200 text-sm\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-50\">\r\n                            <th className=\"px-6 py-2 text-left font-semibold text-gray-600\">Specialty</th>\r\n                            <th className=\"px-6 py-2 text-center font-semibold text-gray-600\">Available</th>\r\n                            <th className=\"px-6 py-2 text-center font-semibold text-gray-600\">Total</th>\r\n                            <th className=\"px-6 py-2 text-right font-semibold text-gray-600\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {Object.entries(specialtyData).map(([name, stats]) => (\r\n                            <tr key={name} className=\"hover:bg-gray-50\">\r\n                                <td className=\"px-6 py-2 font-medium text-gray-800\">{name}</td>\r\n                                <td className=\"px-6 py-2 text-center text-green-600 font-bold\">{stats.available}</td>\r\n                                <td className=\"px-6 py-2 text-center text-gray-500\">{stats.total}</td>\r\n                                <td className=\"px-6 py-2 text-right\">\r\n                                    <span className={`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${\r\n                                        stats.available === 0 ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'\r\n                                    }`}>\r\n                                        {stats.available === 0 ? 'Full' : 'Space'}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HospitalCensus;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst _RAW_API = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\nconst API_BASE_URL = /\\/api\\/v1\\/?$/.test(_RAW_API) ? _RAW_API.replace(/\\/$/, '') : _RAW_API.replace(/\\/$/, '') + '/api/v1';\r\n\r\n// --- Default Ward Mapping ---\r\nconst WARD_MAPPING = {\r\n    'Maternity': 'Maternity Ward',\r\n    'ICU': 'Intensive Care Unit',\r\n    'NICU': 'Neonatal ICU',\r\n    'Pediatric': 'Children‚Äôs Wing',\r\n    'Emergency beds': 'Emergency Dept',\r\n    'General': 'General Ward'\r\n};\r\n\r\nconst AddBedForm = ({ onBedAdded, specialties }) => {\r\n    const [formData, setFormData] = useState({\r\n        bed_number: '', // Added this back as it's vital for your DB\r\n        ward_name: 'General Ward',\r\n        specialty_type: 'General',\r\n        current_status: 'AVAILABLE'\r\n    });\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    // --- AUTO-FILL LOGIC ---\r\n    // This runs whenever the specialty dropdown changes\r\n    useEffect(() => {\r\n        const defaultWard = WARD_MAPPING[formData.specialty_type];\r\n        if (defaultWard) {\r\n            setFormData(prev => ({ ...prev, ward_name: defaultWard }));\r\n        }\r\n    }, [formData.specialty_type]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/beds`, formData, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            alert(\"New bed registered successfully!\");\r\n            // Keep the ward and specialty but clear the number for the next entry\r\n            setFormData({ ...formData, bed_number: '' }); \r\n            onBedAdded(); \r\n        } catch (err) {\r\n            alert(err.response?.data?.error || \"Error creating bed.\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-xl shadow-md border border-indigo-100\">\r\n            <h2 className=\"text-xl font-bold mb-4 flex items-center text-indigo-900\">\r\n                <span className=\"mr-2\">‚ûï</span> Register New Bed\r\n            </h2>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                \r\n                {/* 1. Specialty Dropdown (The Trigger) */}\r\n                <div>\r\n                    <label className=\"block text-xs font-bold text-gray-500 uppercase tracking-wider\">Specialty Type</label>\r\n                    <select \r\n                        className=\"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none bg-gray-50 cursor-pointer\"\r\n                        value={formData.specialty_type}\r\n                        onChange={(e) => setFormData({...formData, specialty_type: e.target.value})}\r\n                    >\r\n                        {specialties.filter(s => s !== 'All').map(spec => (\r\n                            <option key={spec} value={spec}>{spec}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    {/* 2. Bed Number */}\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-500 uppercase tracking-wider\">Bed Number</label>\r\n                        <input \r\n                            type=\"text\" \r\n                            required\r\n                            placeholder=\"e.g. B-01\"\r\n                            className=\"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n                            value={formData.bed_number}\r\n                            onChange={(e) => setFormData({...formData, bed_number: e.target.value})}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* 3. Ward Name (Auto-filled but editable) */}\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-500 uppercase tracking-wider\">Ward Name</label>\r\n                        <input \r\n                            type=\"text\" \r\n                            required\r\n                            className=\"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none bg-indigo-50 font-medium\"\r\n                            placeholder=\"Ward Name\"\r\n                            value={formData.ward_name}\r\n                            onChange={(e) => setFormData({...formData, ward_name: e.target.value})}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <button \r\n                    type=\"submit\" \r\n                    disabled={isSubmitting}\r\n                    className=\"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition-all shadow-md disabled:bg-gray-400 disabled:shadow-none\"\r\n                >\r\n                    {isSubmitting ? 'Registering...' : 'Add Bed to Inventory'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddBedForm;","module.exports = require('./dist/shared/lib/head')\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport BedCard from '../components/BedCard';\r\nimport TransferRequestForm from '../components/TransferRequestForm';\r\nimport TransferRequestList from '../components/TransferRequestList';\r\nimport HospitalCensus from '../components/HospitalCensus';\r\nimport AddBedForm from '../components/AddBedForm';\r\nimport Head from 'next/head';\r\n\r\n\r\n// Normalize API base: allow NEXT_PUBLIC_API_URL to be either host or host+/api/v1\r\nconst _RAW_API = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\nconst API_BASE_URL = /\\/api\\/v1\\/?$/.test(_RAW_API) ? _RAW_API.replace(/\\/$/, '') : _RAW_API.replace(/\\/$/, '') + '/api/v1';\r\n\r\nconst SPECIALTY_OPTIONS = [\r\n    'All', 'General', 'ICU', 'Pediatric', 'HDU', \r\n    'CCU', 'NICU', 'Emergency beds', 'PACU', 'PICU',\r\n    'Maternity'\r\n];\r\n\r\nconst AdminTools = ({ token }) => {\r\n    const [targetUser, setTargetUser] = useState('');\r\n    const [newPass, setNewPass] = useState('');\r\n    const [status, setStatus] = useState({ type: '', msg: '' });\r\n\r\n    const handleAdminReset = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/auth/admin-reset-password`, \r\n                { targetUsername: targetUser, newPassword: newPass },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            setStatus({ type: 'success', msg: `Password for ${targetUser} updated successfully!` });\r\n            setTargetUser(''); setNewPass('');\r\n        } catch (err) {\r\n            setStatus({ type: 'error', msg: err.response?.data?.error || \"Reset failed\" });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section className=\"bg-white p-6 rounded-xl shadow-sm border-2 border-red-50 mt-10\">\r\n            <h2 className=\"text-xl font-bold text-red-700 mb-2 flex items-center\">\r\n                <span className=\"mr-2\">üîê</span> Admin: Staff Password Override\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500 mb-4\">Manual override for staff experiencing 401 Authentication errors.</p>\r\n            {status.msg && (\r\n                <div className={`mb-4 p-3 rounded-lg text-sm font-bold ${status.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n                    {status.msg}\r\n                </div>\r\n            )}\r\n            <form onSubmit={handleAdminReset} className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <input \r\n                    placeholder=\"Exact Username\" \r\n                    className=\"border p-2 rounded-lg outline-none focus:ring-2 focus:ring-red-400\"\r\n                    value={targetUser} required\r\n                    onChange={(e) => setTargetUser(e.target.value)}\r\n                />\r\n                <input \r\n                    type=\"password\"\r\n                    placeholder=\"New Secure Password\" \r\n                    className=\"border p-2 rounded-lg outline-none focus:ring-2 focus:ring-red-400\"\r\n                    value={newPass} required\r\n                    onChange={(e) => setNewPass(e.target.value)}\r\n                />\r\n                <button className=\"bg-red-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-red-700 transition-all shadow-md\">\r\n                    Update Credentials\r\n                </button>\r\n            </form>\r\n        </section>\r\n    );\r\n};\r\n\r\nconst DashboardPage = () => {\r\n    const [beds, setBeds] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedSpecialty, setSelectedSpecialty] = useState('All');\r\n    const [isOnline, setIsOnline] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [showAll, setShowAll] = useState(false);\r\n    const [showSessionModal, setShowSessionModal] = useState(false);\r\n    \r\n    axios.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n            if (error.response && error.response.status === 401) {\r\n                setShowSessionModal(true);\r\n                localStorage.clear(); // Wipe the bad/expired token\r\n            }\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n\r\n    const BED_LIMIT = 6;\r\n    const user = useMemo(() => JSON.parse(localStorage.getItem('user') || '{}'), []);\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    // --- SYSTEM MONITORING ---\r\n    useEffect(() => {\r\n        const checkConnection = async () => {\r\n            try {\r\n                await axios.get(`${API_BASE_URL}/beds`, { headers: { Authorization: `Bearer ${token}` } });\r\n                setIsOnline(true);\r\n            } catch { setIsOnline(false); }\r\n        };\r\n        const interval = setInterval(checkConnection, 15000);\r\n        return () => clearInterval(interval);\r\n    }, [token]);\r\n\r\n    const fetchBedData = useCallback(async (specialty) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n            let url = `${API_BASE_URL}/beds`;\r\n            if (specialty && specialty !== 'All') url += `?specialty_type=${specialty}`;\r\n            \r\n            const response = await axios.get(url, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            setBeds(response.data);\r\n        } catch (err) {\r\n            if (err.response?.status === 401) setError(\"Session expired. Please log in again.\");\r\n            else setError('Could not load bed data.');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if (token) fetchBedData(selectedSpecialty);\r\n        else window.location.href = '/';\r\n    }, [selectedSpecialty, fetchBedData, token]);\r\n\r\n    // --- COMPUTED STATS ---\r\n    const stats = useMemo(() => ({\r\n        total: beds.length,\r\n        available: beds.filter(b => b.current_status === 'AVAILABLE').length,\r\n        occupied: beds.filter(b => b.current_status === 'OCCUPIED').length,\r\n        cleaning: beds.filter(b => b.current_status === 'CLEANING').length\r\n    }), [beds]);\r\n\r\n    const filteredBeds = beds.filter(bed => \r\n        bed.bed_number?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        bed.patient_name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        bed.ward_name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n    const visibleBeds = showAll ? filteredBeds : filteredBeds.slice(0, BED_LIMIT);\r\n\r\n    const exportCensusToCSV = () => {\r\n        const occupied = beds.filter(b => b.current_status === 'OCCUPIED');\r\n        if (occupied.length === 0) return alert(\"No patients to export.\");\r\n\r\n        const headers = [\"Bed\", \"Ward\", \"Specialty\", \"Patient\", \"Last Update\"];\r\n        const rows = occupied.map(b => [b.bed_number, b.ward_name, b.specialty_type, b.patient_name || \"N/A\", new Date(b.updated_at).toLocaleString()]);\r\n        const csvContent = [headers.join(\",\"), ...rows.map(r => r.join(\",\"))].join(\"\\n\");\r\n\r\n        const blob = new Blob([csvContent], { type: 'text/csv' });\r\n        const url = URL.createObjectURL(blob);\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.download = `Census_${new Date().toISOString().split('T')[0]}.csv`;\r\n        link.click();\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        localStorage.clear();\r\n        window.location.href = '/';\r\n    };\r\n\r\n    if (error) return (\r\n        <div className=\"flex items-center justify-center h-screen bg-gray-100 p-4\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-2xl border border-red-200 text-center max-w-md w-full\">\r\n                <p className=\"text-red-600 font-black text-2xl mb-2\">‚ö†Ô∏è Access Denied</p>\r\n                <p className=\"text-gray-500 mb-6\">{error}</p>\r\n                <button onClick={handleLogout} className=\"w-full bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg\">Return to Login</button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n        <Head>\r\n            <title>No Bed Syndrome Tracker</title>\r\n            <meta name=\"description\" content=\"Dashboard for monitoring hospital bed availability and patient admissions.\" />\r\n        </Head>\r\n        <div className=\"min-h-screen bg-slate-50\">\r\n            {/* STICKY HEADER */}\r\n            <header className=\"bg-indigo-950 text-white p-4 shadow-xl flex justify-between items-center sticky top-0 z-50 border-b border-indigo-800\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <h1 className=\"text-xl font-black tracking-tighter flex items-center gap-2\">\r\n                        <span className=\"bg-white text-indigo-900 p-1 rounded\">üè•</span> NO BED SYNDROME\r\n                    </h1>\r\n                    <div className=\"hidden md:flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full\">\r\n                        <div className={`h-2 w-2 rounded-full ${isOnline ? 'bg-emerald-400 animate-pulse' : 'bg-rose-500'}`} />\r\n                        <span className=\"text-[10px] font-black uppercase tracking-widest text-white/80\">\r\n                            {isOnline ? 'System Live' : 'Connection Lost'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-6\">\r\n                    <div className=\"text-right hidden sm:block\">\r\n                        <p className=\"text-xs font-bold text-indigo-200 uppercase\">{user?.username}</p>\r\n                        <span className={`text-[10px] px-2 py-0.5 rounded-md font-black uppercase ${user?.role === 'ADMIN' ? 'bg-rose-500 text-white' : 'bg-emerald-500 text-white'}`}>\r\n                            {user?.role || 'Staff'}\r\n                        </span>\r\n                    </div>\r\n                    <button onClick={handleLogout} className=\"bg-rose-500 hover:bg-rose-600 px-4 py-2 rounded-lg text-xs font-black transition-all shadow-lg active:scale-95\">LOGOUT</button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"p-4 md:p-8 max-w-[1700px] mx-auto space-y-8\">\r\n                {/* TOP STATS CARDS */}\r\n                <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm\">\r\n                        <p className=\"text-[10px] font-bold text-slate-400 uppercase\">Total Capacity</p>\r\n                        <p className=\"text-2xl font-black text-slate-800\">{stats.total}</p>\r\n                    </div>\r\n                    <div className=\"bg-emerald-50 p-4 rounded-xl border border-emerald-100 shadow-sm\">\r\n                        <p className=\"text-[10px] font-bold text-emerald-600 uppercase\">Available</p>\r\n                        <p className=\"text-2xl font-black text-emerald-700\">{stats.available}</p>\r\n                    </div>\r\n                    <div className=\"bg-rose-50 p-4 rounded-xl border border-rose-100 shadow-sm\">\r\n                        <p className=\"text-[10px] font-bold text-rose-600 uppercase\">Occupied</p>\r\n                        <p className=\"text-2xl font-black text-rose-700\">{stats.occupied}</p>\r\n                    </div>\r\n                    <div className=\"bg-amber-50 p-4 rounded-xl border border-amber-100 shadow-sm\">\r\n                        <p className=\"text-[10px] font-bold text-amber-600 uppercase\">Turnover/Cleaning</p>\r\n                        <p className=\"text-2xl font-black text-amber-700\">{stats.cleaning}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* SEARCH & FILTER BAR */}\r\n                <div className=\"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col lg:flex-row gap-4\">\r\n                    <div className=\"relative flex-1\">\r\n                        <span className=\"absolute left-4 top-3 text-slate-400\">üîç</span>\r\n                        <input \r\n                            type=\"text\"\r\n                            placeholder=\"Find Bed, Patient, or Ward...\"\r\n                            className=\"w-full pl-12 pr-4 py-3 bg-slate-50 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium transition-all\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        <select \r\n                            value={selectedSpecialty}\r\n                            onChange={(e) => setSelectedSpecialty(e.target.value)}\r\n                            className=\"bg-slate-50 px-4 py-3 rounded-xl border-none font-bold text-sm text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer\"\r\n                        >\r\n                            {SPECIALTY_OPTIONS.map(opt => <option key={opt} value={opt}>{opt}</option>)}\r\n                        </select>\r\n                        <button \r\n                            onClick={exportCensusToCSV}\r\n                            className=\"bg-slate-800 hover:bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-md active:scale-95 text-sm\"\r\n                        >\r\n                            <span>üìä</span> <span className=\"hidden sm:inline\">Export</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* MAIN GRID */}\r\n                <div className=\"grid grid-cols-1 xl:grid-cols-12 gap-8\">\r\n                    {/* LEFT CONTENT: BEDS */}\r\n                    <div className=\"xl:col-span-8 space-y-8\">\r\n                        <section>\r\n                            <div className=\"flex justify-between items-end mb-6\">\r\n                                <div>\r\n                                    <h2 className=\"text-2xl font-black text-slate-900\">Bed Inventory</h2>\r\n                                    <p className=\"text-sm text-slate-400 font-medium\">Tracking {filteredBeds.length} units in {selectedSpecialty} sector</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {isLoading ? (\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                    {[1, 2, 3].map(i => <div key={i} className=\"h-64 bg-slate-200 animate-pulse rounded-2xl\" />)}\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                        {visibleBeds.map(bed => (\r\n                                            <BedCard \r\n                                                key={bed.bed_id} \r\n                                                bedData={bed} \r\n                                                onStatusChange={() => fetchBedData(selectedSpecialty)}\r\n                                                token={token}\r\n                                                userRole={user?.role}\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"mt-10 flex justify-center\">\r\n                                        {filteredBeds.length > BED_LIMIT && (\r\n                                            <button \r\n                                                onClick={() => setShowAll(!showAll)}\r\n                                                className=\"bg-white border-2 border-indigo-100 text-indigo-600 px-12 py-3 rounded-full font-black hover:bg-indigo-50 transition-all shadow-sm\"\r\n                                            >\r\n                                                {showAll ? 'SHOW LESS' : `VIEW ALL ${filteredBeds.length} BEDS`}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </section>\r\n\r\n                        {user?.role === 'ADMIN' && <AdminTools token={token} />}\r\n                    </div>\r\n\r\n                    {/* RIGHT SIDEBAR: FORMS & LISTS */}\r\n                    <div className=\"xl:col-span-4 space-y-8\">\r\n                        <aside className=\"sticky top-28 space-y-8\">\r\n                            <AddBedForm onBedAdded={() => fetchBedData(selectedSpecialty)} specialties={SPECIALTY_OPTIONS} />\r\n                            <TransferRequestForm />\r\n                            <TransferRequestList />\r\n                        </aside>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n        {showSessionModal && (\r\n            <div className=\"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4\">\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center border border-slate-100\">\r\n                    <div className=\"text-4xl mb-4\">üîë</div>\r\n                    <h2 className=\"text-xl font-black text-slate-800 mb-2\">Session Expired</h2>\r\n                    <p className=\"text-sm text-slate-500 mb-6\">For your security, you have been logged out. Please sign in again to continue managing beds.</p>\r\n                    <button \r\n                        onClick={() => window.location.href = '/'} \r\n                        className=\"w-full bg-indigo-600 text-white py-3 rounded-xl font-black hover:bg-indigo-700 transition-all shadow-lg\"\r\n                    >\r\n                    RETURN TO LOGIN\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DashboardPage;","// frontend/src/pages/SignupPage.jsx\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\n// Normalize API base (accept either host or host + /api/v1 in env)\r\nconst _RAW_API = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\nconst API_BASE = /\\/api\\/v1\\/?$/.test(_RAW_API) ? _RAW_API.replace(/\\/$/, '') : _RAW_API.replace(/\\/$/, '') + '/api/v1';\r\n\r\nconst SignupPage = () => {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '', // New field\r\n        role: 'STAFF'\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSignup = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        // 1. Client-side Validation: Check if passwords match\r\n        if (formData.password !== formData.confirmPassword) {\r\n            return setError('Passwords do not match.');\r\n        }\r\n\r\n        // 2. Client-side Validation: Minimum length check\r\n        if (formData.password.length < 6) {\r\n            return setError('Password must be at least 6 characters long.');\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.post(`${API_BASE}/auth/signup`, {\r\n                username: formData.username,\r\n                password: formData.password,\r\n                role: formData.role\r\n            });\r\n\r\n            // Auto-login after signup for a smoother flow\r\n            try {\r\n                const loginRes = await axios.post(`${API_BASE}/auth/login`, {\r\n                    username: formData.username,\r\n                    password: formData.password\r\n                });\r\n                const { token, user } = loginRes.data;\r\n                localStorage.setItem('authToken', token);\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n                localStorage.setItem('userRole', user.role);\r\n                navigate('/dashboard');\r\n            } catch (loginErr) {\r\n                // Signup succeeded but auto-login failed ‚Äî fallback to login page\r\n                console.warn('Auto-login failed after signup', loginErr);\r\n                alert('Account created. Please log in.');\r\n                navigate('/');\r\n            }\r\n\r\n        } catch (err) {\r\n            setError(err.response?.data?.error || 'Registration failed.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-50 px-4\">\r\n            <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-slate-200\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-3xl font-bold text-slate-900\">Staff Registration</h1>\r\n                    <p className=\"text-slate-500 mt-2\">No Bed Syndrome Tracker</p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm font-medium animate-pulse\">\r\n                        ‚ö†Ô∏è {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSignup} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Username</label>\r\n                        <input\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"e.g. jdoe_admin\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Password</label>\r\n                        <input\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Confirm Password</label>\r\n                        <input\r\n                            name=\"confirmPassword\"\r\n                            type=\"password\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Access Level</label>\r\n                        <select \r\n                            name=\"role\"\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white\"\r\n                            onChange={handleChange}\r\n                        >\r\n                            <option value=\"STAFF\">Clinical Staff</option>\r\n                            <option value=\"ADMIN\">Bed Manager / Admin</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className={`w-full py-3 rounded-lg font-bold text-white transition-all ${\r\n                            loading ? 'bg-slate-400' : 'bg-blue-600 hover:bg-blue-700'\r\n                        }`}\r\n                    >\r\n                        {loading ? 'Processing...' : 'Create Account'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-6 text-center text-sm\">\r\n                    <span className=\"text-slate-600\">Already have an account? </span>\r\n                    <Link to=\"/\" className=\"text-blue-600 font-bold hover:underline\">Log In</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignupPage;","// frontend/src/pages/ForgotPasswordPage.jsx\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ForgotPasswordPage = () => {\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [username, setUsername] = useState('');\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Here you would typically call: axios.post('/api/v1/auth/reset-request', { username })\r\n        setSubmitted(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\r\n            <div className=\"bg-white p-8 rounded-xl shadow-lg w-96 border border-slate-200\">\r\n                <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">Reset Password</h2>\r\n                \r\n                {!submitted ? (\r\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                        <p className=\"text-sm text-slate-600\">Enter your username or ID to request a password reset.</p>\r\n                        <input \r\n                            type=\"text\" required\r\n                            placeholder=\"Username / Staff ID\"\r\n                            className=\"w-full p-2 border rounded-lg outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                        />\r\n                        <button className=\"w-full bg-indigo-600 text-white py-2 rounded-lg font-bold hover:bg-indigo-700\">\r\n                            Send Request\r\n                        </button>\r\n                    </form>\r\n                ) : (\r\n                    <div className=\"text-center space-y-4\">\r\n                        <div className=\"bg-green-100 text-green-700 p-3 rounded-lg text-sm\">\r\n                            Request received for <strong>{username}</strong>.\r\n                        </div>\r\n                        <p className=\"text-sm text-slate-600\">\r\n                            Please contact your **Shift Lead** or **IT Admin** to finalize your password reset.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n                \r\n                <div className=\"mt-6 text-center\">\r\n                    <Link to=\"/\" className=\"text-indigo-600 text-sm font-medium hover:underline\">\r\n                        ‚Üê Back to Login\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPasswordPage;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n// 1. Define the shapes of your data\r\ninterface WardDetail {\r\n  ward_name: string;\r\n  total_beds: number;\r\n  available_beds: number;\r\n}\r\n\r\ninterface Hospital {\r\n  id: number;\r\n  name: string;\r\n  location: string;\r\n  available_beds: number;\r\n  total_capacity: number;\r\n}\r\n\r\nconst HospitalDiscovery: React.FC = () => {\r\n  // 2. Tell the state what kind of data to expect\r\n  const [hospitals, setHospitals] = useState<Hospital[]>([]);\r\n  const [activeHospital, setActiveHospital] = useState<number | null>(null);\r\n  const [wardData, setWardData] = useState<WardDetail[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.NEXT_PUBLIC_API_URL}/api/v1/public/hospitals`)\r\n      .then(res => setHospitals(res.data))\r\n      .catch(err => console.error(\"Error loading hospitals\", err));\r\n  }, []);\r\n\r\n\r\n\r\n  // 3. Fix the 'id' implicitly has 'any' type error\r\n  const handleSelect = async (id: number) => {\r\n    if (activeHospital === id) {\r\n      setActiveHospital(null);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/api/v1/public/hospitals/${id}/availability`);\r\n      setWardData(res.data);\r\n      setActiveHospital(id);\r\n    } catch (err) {\r\n      console.error(\"Error fetching ward details\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-4 space-y-4\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800\">Available Beds Near You</h2>\r\n      \r\n      {/* 1. Show a loading message if the array is empty and we haven't failed yet */}\r\n{hospitals.length === 0 && (\r\n  <div className=\"p-8 text-center border-2 border-dashed rounded-xl text-gray-400\">\r\n    <p>No hospitals found or connecting to server...</p>\r\n    <p className=\"text-xs mt-2\">Checking: {process.env.NEXT_PUBLIC_API_URL}</p>\r\n  </div>\r\n)}\r\n      {hospitals.map((hospital) => (\r\n        <div key={hospital.id} className=\"border rounded-xl shadow-sm bg-white overflow-hidden\">\r\n          <button \r\n            onClick={() => handleSelect(hospital.id)}\r\n            className=\"w-full p-4 flex justify-between items-center hover:bg-gray-50 transition\"\r\n          >\r\n            <div className=\"text-left\">\r\n              <h3 className=\"font-bold text-lg\">{hospital.name}</h3>\r\n              <p className=\"text-sm text-gray-500\">{hospital.location}</p>\r\n            </div>\r\n            <div className={`px-3 py-1 rounded-full text-sm font-bold ${hospital.available_beds > 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n              {hospital.available_beds} available\r\n            </div>\r\n          </button>\r\n\r\n          {activeHospital === hospital.id && (\r\n            <div className=\"p-4 bg-gray-50 border-t grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n              {wardData.map((ward) => (\r\n                <div key={ward.ward_name} className=\"p-3 bg-white border rounded shadow-sm\">\r\n                  <p className=\"text-xs uppercase font-semibold text-gray-400\">{ward.ward_name}</p>\r\n                  <p className=\"text-lg font-bold\">\r\n                    <span className=\"text-blue-600\">{ward.available_beds}</span>\r\n                    <span className=\"text-gray-300 mx-1\">/</span>\r\n                    <span className=\"text-gray-600\">{ward.total_beds}</span>\r\n                  </p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n\r\n      <div className=\"mt-10 pt-6 border-t border-gray-100 text-center\">\r\n        <a href=\"/login\" className=\"text-blue-500 hover:text-blue-700 text-sm font-medium transition\">\r\n          Hospital Staff? Log in here to manage beds ‚Üí\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HospitalDiscovery;","import React, { PropsWithChildren } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\n\r\n// Import Pages\r\nimport LoginPage from './pages/LoginPage';\r\nimport DashboardPage from './pages/DashboardPage';\r\nimport SignupPage from './pages/SignupPage';\r\nimport ForgotPasswordPage from './pages/ForgotPasswordPage';\r\n// NEW: Import the Public Discovery Component/Page\r\nimport HospitalDiscovery from './components/HospitalDiscovery'; \r\n\r\n// --- Private Route Component ---\r\nconst PrivateRoute: React.FC<PropsWithChildren<{}>> = ({ children }) => {\r\n    if (typeof window === 'undefined') return <Navigate to=\"/login\" />;\r\n\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    if (!token) return <Navigate to=\"/login\" replace />;\r\n\r\n    try {\r\n        const parts = token.split('.');\r\n        if (parts.length === 3) {\r\n            const payload = JSON.parse(atob(parts[1].replace(/-/g, '+').replace(/_/g, '/')));\r\n            if (payload.exp && typeof payload.exp === 'number') {\r\n                const now = Math.floor(Date.now() / 1000);\r\n                if (payload.exp < now) {\r\n                    localStorage.removeItem('authToken');\r\n                    localStorage.removeItem('user');\r\n                    localStorage.removeItem('userRole');\r\n                    return <Navigate to=\"/login\" replace />;\r\n                }\r\n            }\r\n        }\r\n    } catch (e) {\r\n        localStorage.removeItem('authToken');\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('userRole');\r\n        return <Navigate to=\"/login\" replace />;\r\n    }\r\n\r\n    return <>{children}</>;\r\n};\r\n\r\nconst App: React.FC = () => {\r\n    return (\r\n        <Router>\r\n            <Routes>\r\n                {/* --- PUBLIC ROUTES (No Login Needed) --- */}\r\n                \r\n                {/* 1. New Discovery Route: This is where regular people go */}\r\n                <Route path=\"/find-bed\" element={<HospitalDiscovery />} />\r\n                \r\n                {/* 2. Login & Auth */}\r\n                <Route path=\"/login\" element={<LoginPage />} />\r\n                <Route path=\"/forgot-password\" element={<ForgotPasswordPage />} />\r\n                <Route path=\"/signup\" element={<SignupPage />} />\r\n\r\n                {/* --- PROTECTED ROUTES (Staff Only) --- */}\r\n                <Route \r\n                    path=\"/dashboard\" \r\n                    element={\r\n                        <PrivateRoute>\r\n                            <DashboardPage />\r\n                        </PrivateRoute>\r\n                    } \r\n                />\r\n                \r\n                {/* --- REDIRECTS --- */}\r\n                {/* Default root now points to Discovery for the public */}\r\n                <Route path=\"/\" element={<Navigate to=\"/find-bed\" />} />\r\n                <Route path=\"*\" element={<Navigate to=\"/find-bed\" />} />\r\n            </Routes>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;"],"names":[],"mappings":"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","ignoreList":[9]}