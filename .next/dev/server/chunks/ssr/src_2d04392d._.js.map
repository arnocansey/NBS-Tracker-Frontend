{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["// frontend/src/pages/LoginPage.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom'; // Use React Router's Link\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\nconst LoginPage = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setError(null);\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post(`${API_BASE_URL}/auth/login`, {\r\n                username,\r\n                password,\r\n            });\r\n\r\n            localStorage.setItem('token', response.data.token);\r\n            localStorage.setItem('user', JSON.stringify(response.data.user));\r\n\r\n            const { token, user } = response.data;\r\n            \r\n            // --- Crucial Step: Store the JWT securely ---\r\n            // Storing in localStorage is acceptable for an MVP/testing environment.\r\n            // For production, consider using HttpOnly cookies for better security.\r\n            localStorage.setItem('authToken', token);\r\n            localStorage.setItem('userRole', user.role); \r\n\r\n            console.log(`User ${user.username} logged in successfully.`);\r\n\r\n            // Redirect the user to the main dashboard page\r\n            navigate('/dashboard'); \r\n\r\n        } catch (err) {\r\n            console.error('Login failed:', err);\r\n            // Display friendly error message\r\n            setError(err.response?.data?.error || 'Login failed. Check server connection.');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n            <div className=\"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-center text-indigo-800\">No Bed Syndrome Tracker Login</h2>\r\n                \r\n                <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                    \r\n                    {/* Username Field */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                            className=\"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Password Field */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            className=\"mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Error Message */}\r\n                    {error && (\r\n                        <p className=\"text-sm font-medium text-red-600\">{error}</p>\r\n                    )}\r\n\r\n                    {/* Submit Button */}\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n                    >\r\n                        {isLoading ? 'Logging In...' : 'Login'}\r\n                    </button>\r\n                    <Link to=\"/forgot-password\" title=\"Reset Password\" className=\"text-sm text-indigo-600 hover:underline block\">\r\n                        Forgot password?\r\n                    </Link>\r\n                    <Link to=\"/signup\" className=\"text-blue-600 font-bold\">\r\n                        Register New Account\r\n                    </Link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;"],"names":[],"mappings":";;;;;AAAA,mCAAmC;AAEnC;AACA;AACA,8UAAsD,0BAA0B;;;;;;;;;AAEhF,MAAM,eAAe;AAErB,MAAM,YAAY;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,WAAW,IAAA,iNAAW;IAE5B,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,SAAS;QACT,aAAa;QAEb,IAAI;YACA,MAAM,WAAW,MAAM,iKAAK,CAAC,IAAI,CAAC,GAAG,aAAa,WAAW,CAAC,EAAE;gBAC5D;gBACA;YACJ;YAEA,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;YACjD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,SAAS,IAAI,CAAC,IAAI;YAE9D,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YAErC,+CAA+C;YAC/C,wEAAwE;YACxE,uEAAuE;YACvE,aAAa,OAAO,CAAC,aAAa;YAClC,aAAa,OAAO,CAAC,YAAY,KAAK,IAAI;YAE1C,QAAQ,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,QAAQ,CAAC,wBAAwB,CAAC;YAE3D,+CAA+C;YAC/C,SAAS;QAEb,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,iCAAiC;YACjC,SAAS,IAAI,QAAQ,EAAE,MAAM,SAAS;QAC1C,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI,qKAAC;QAAI,WAAU;kBACX,cAAA,qKAAC;YAAI,WAAU;;8BACX,qKAAC;oBAAG,WAAU;8BAAiD;;;;;;8BAE/D,qKAAC;oBAAK,UAAU;oBAAa,WAAU;;sCAGnC,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAA0C;;;;;;8CAC3D,qKAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAKlB,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAA0C;;;;;;8CAC3D,qKAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,QAAQ;oCACR,WAAU;;;;;;;;;;;;wBAKjB,uBACG,qKAAC;4BAAE,WAAU;sCAAoC;;;;;;sCAIrD,qKAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,YAAY,kBAAkB;;;;;;sCAEnC,qKAAC,0MAAI;4BAAC,IAAG;4BAAmB,OAAM;4BAAiB,WAAU;sCAAgD;;;;;;sCAG7G,qKAAC,0MAAI;4BAAC,IAAG;4BAAU,WAAU;sCAA0B;;;;;;;;;;;;;;;;;;;;;;;AAO3E;uCAEe"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/components/BedCard.jsx"],"sourcesContent":["// frontend/src/components/BedCard.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\nconst BedCard = ({ bedData, onStatusChange, token, userRole }) => {\r\n    const handleDelete = async () => {\r\n        if (!window.confirm(`Permanently remove Bed ${bedData.bed_number}?`)) return;\r\n\r\n        try {\r\n            await axios.delete(`${API_BASE_URL}/beds/${bedData.bed_id}`, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            onStatusChange(); // Refresh list\r\n        } catch (err) {\r\n            alert(\"Delete failed. You must discharge patients before removing a bed.\");\r\n        }\r\n    };\r\n\r\n    const [status, setStatus] = useState(bedData.current_status);\r\n    const bedId = bedData.bed_id;\r\n\r\n    useEffect(() => {\r\n        setStatus(bedData.current_status);\r\n    }, [bedData.current_status]);\r\n    \r\n    const getStatusColor = (currentStatus) => {\r\n        switch (currentStatus) {\r\n            case 'AVAILABLE': return 'bg-green-100 text-green-800 border-green-300';\r\n            case 'OCCUPIED': return 'bg-red-100 text-red-800 border-red-300';\r\n            case 'CLEANING': return 'bg-yellow-100 text-yellow-800 border-yellow-300';\r\n            default: return 'bg-gray-100 text-gray-800 border-gray-300';\r\n        }\r\n    };\r\n\r\n    const handleStatusUpdate = async (newStatus) => {\r\n        let patientName = null;\r\n\r\n        // If admitting, ask for a name\r\n        if (newStatus === 'OCCUPIED') {\r\n            patientName = window.prompt(\"Enter Patient Name for Admission:\");\r\n            if (!patientName) return; \r\n        }\r\n\r\n        const actionText = newStatus === 'CLEANING' ? 'DISCHARGE patient' : `set bed to ${newStatus}`;\r\n        if (!window.confirm(`Are you sure you want to ${actionText}?`)) return;\r\n\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/beds/${bedId}/status`, \r\n                { \r\n                    new_status: newStatus,\r\n                    patient_name: patientName \r\n                },\r\n                { headers: { 'Authorization': `Bearer ${token}` } }\r\n            );\r\n            \r\n            setStatus(newStatus); \r\n            onStatusChange(); \r\n        } catch (error) {\r\n            console.error(error);\r\n            alert('Failed to update status.');\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div className={`p-4 border-2 rounded-lg shadow-sm transition-all flex flex-col justify-between ${getStatusColor(status)}`}>\r\n            {/* Show Delete button only if user is ADMIN */}\r\n            {userRole === 'ADMIN' && (\r\n                <button \r\n                    onClick={handleDelete}\r\n                    className=\"absolute top-2 right-2 text-gray-400 hover:text-red-600 transition-colors\"\r\n                    title=\"Delete Bed\"\r\n                >\r\n                    üóëÔ∏è\r\n                </button>\r\n            )}\r\n            <div>\r\n                <div className=\"flex justify-between items-start\">\r\n                    <h3 className=\"font-bold text-lg\">Bed {bedId}</h3>\r\n                    <span className=\"text-[10px] uppercase font-bold px-2 py-0.5 rounded-full border border-current\">\r\n                        {status}\r\n                    </span>\r\n                </div>\r\n                \r\n                <div className=\"mt-2 text-sm space-y-1\">\r\n                    <p><span className=\"font-semibold\">Ward:</span> {bedData.ward_name}</p>\r\n                    <p><span className=\"font-semibold\">Specialty:</span> {bedData.specialty_type}</p>\r\n                </div>\r\n\r\n                {status === 'OCCUPIED' && (\r\n                    <div className=\"mt-4 p-3 bg-white bg-opacity-60 rounded-md border border-red-200\">\r\n                        <p className=\"text-[10px] uppercase font-bold text-red-500 mb-1\">Current Patient</p>\r\n                        <p className=\"text-base font-bold text-red-900\">\r\n                            üë§ {bedData.patient_name || 'Anonymous'}\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            \r\n            <div className=\"mt-4 flex flex-col gap-2\">\r\n                {status === 'OCCUPIED' && (\r\n                    <button className=\"bg-red-600 text-white font-bold py-2 rounded-md text-xs hover:bg-red-700\"\r\n                        onClick={() => handleStatusUpdate('CLEANING')}>Discharge Patient</button>\r\n                )}\r\n                {status === 'CLEANING' && (\r\n                    <button className=\"bg-yellow-600 text-white font-bold py-2 rounded-md text-xs hover:bg-yellow-700\"\r\n                        onClick={() => handleStatusUpdate('AVAILABLE')}>Mark Clean</button>\r\n                )}\r\n                {status === 'AVAILABLE' && (\r\n                    <button className=\"bg-green-600 text-white font-bold py-2 rounded-md text-xs hover:bg-green-700\"\r\n                        onClick={() => handleStatusUpdate('OCCUPIED')}>Direct Admission</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BedCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/components/TransferRequestForm.tsx"],"sourcesContent":["// frontend/src/components/TransferRequestForm.tsx\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { TransferRequest, PriorityLevel } from '../types/transfer';\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\nconst SPECIALTIES = ['General', 'ICU', 'Pediatric', 'HDU', 'CCU', 'NICU', 'Emergency beds', 'PACU', 'PICU'];\r\nconst PRIORITIES: PriorityLevel[] = ['Low', 'Medium', 'High', 'Emergency'];\r\n\r\nconst TransferRequestForm: React.FC = () => {\r\n    const [formData, setFormData] = useState<TransferRequest>({\r\n        patient_name: '',\r\n        from_ward: '',\r\n        required_specialty: 'General',\r\n        priority: 'Medium',\r\n        clinical_notes: ''\r\n    });\r\n\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        setMessage(null);\r\n\r\n        try {\r\n            const token = localStorage.getItem('authToken');\r\n            await axios.post(`${API_BASE_URL}/transfers`, formData, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n\r\n            setMessage({ type: 'success', text: 'Transfer request submitted successfully!' });\r\n            // Reset form\r\n            setFormData({ patient_name: '', from_ward: '', required_specialty: 'General', priority: 'Medium', clinical_notes: '' });\r\n        } catch (err) {\r\n            setMessage({ type: 'error', text: 'Failed to submit request. Please try again.' });\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\r\n            <h2 className=\"text-xl font-bold mb-4 text-gray-800\">New Transfer Request</h2>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                {/* Patient Name */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Patient Name / ID</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        className=\"mt-1 block w-full border rounded-md p-2\"\r\n                        value={formData.patient_name}\r\n                        onChange={(e) => setFormData({...formData, patient_name: e.target.value})}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    {/* From Ward */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Current Ward</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            className=\"mt-1 block w-full border rounded-md p-2\"\r\n                            value={formData.from_ward}\r\n                            onChange={(e) => setFormData({...formData, from_ward: e.target.value})}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Required Specialty */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700\">Needed Specialty</label>\r\n                        <select \r\n                            className=\"mt-1 block w-full border rounded-md p-2\"\r\n                            value={formData.required_specialty}\r\n                            onChange={(e) => setFormData({...formData, required_specialty: e.target.value})}\r\n                        >\r\n                            {SPECIALTIES.map(s => <option key={s} value={s}>{s}</option>)}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Priority */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Priority Level</label>\r\n                    <div className=\"flex space-x-4 mt-2\">\r\n                        {PRIORITIES.map(p => (\r\n                            <label key={p} className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"priority\"\r\n                                    value={p}\r\n                                    checked={formData.priority === p}\r\n                                    onChange={() => setFormData({...formData, priority: p})}\r\n                                    className=\"mr-2\"\r\n                                />\r\n                                <span className={p === 'Emergency' ? 'text-red-600 font-bold' : ''}>{p}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Clinical Notes</label>\r\n                    <textarea\r\n                        className=\"mt-1 block w-full border rounded-md p-2\"\r\n                        rows={3}\r\n                        value={formData.clinical_notes}\r\n                        onChange={(e) => setFormData({...formData, clinical_notes: e.target.value})}\r\n                    />\r\n                </div>\r\n\r\n                {message && (\r\n                    <div className={`p-3 rounded ${message.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n                        {message.text}\r\n                    </div>\r\n                )}\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className=\"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 disabled:bg-gray-400\"\r\n                >\r\n                    {isSubmitting ? 'Submitting...' : 'Submit Transfer Request'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TransferRequestForm;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/components/TransferRequestList.tsx"],"sourcesContent":["// frontend/src/components/TransferRequestList.tsx\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { TransferRequest } from '../types/transfer';\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\n// Defining a local interface for Bed data\r\ninterface Bed {\r\n    bed_id: number;\r\n    ward_name: string;\r\n    specialty_type: string;\r\n    current_status: string;\r\n}\r\n\r\nconst TransferRequestList: React.FC = () => {\r\n    const [requests, setRequests] = useState<TransferRequest[]>([]);\r\n    const [availableBeds, setAvailableBeds] = useState<Bed[]>([]);\r\n    const [selectedBeds, setSelectedBeds] = useState<Record<number, string>>({});\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    const fetchRequests = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/transfers?status=PENDING`, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            setRequests(response.data);\r\n        } catch (err) {\r\n            console.error(\"Error fetching transfer requests\", err);\r\n        }\r\n    };\r\n\r\n    const fetchBeds = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/beds`, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            // Only keep track of beds that can actually receive a patient\r\n            setAvailableBeds(response.data.filter((b: Bed) => b.current_status === 'AVAILABLE'));\r\n        } catch (err) {\r\n            console.error(\"Error fetching beds\", err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchRequests();\r\n        fetchBeds();\r\n        const interval = setInterval(() => {\r\n            fetchRequests();\r\n            fetchBeds();\r\n        }, 30000); \r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const handleApprove = async (id: number) => {\r\n        const bedId = selectedBeds[id];\r\n        if (!bedId) {\r\n            alert(\"Please select a bed to assign first.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await axios.patch(`${API_BASE_URL}/transfers/${id}`, \r\n                { \r\n                    new_status: 'APPROVED',\r\n                    assigned_bed_id: parseInt(bedId) \r\n                },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            fetchRequests();\r\n            fetchBeds();\r\n        } catch (err) {\r\n            alert(\"Approval failed\");\r\n        }\r\n    };\r\n\r\n    const handleReject = async (id: number) => {\r\n        try {\r\n            await axios.patch(`${API_BASE_URL}/transfers/${id}`, \r\n                { new_status: 'REJECTED' },\r\n                { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n            fetchRequests();\r\n        } catch (err) {\r\n            alert(\"Rejection failed\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200 mt-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Pending Transfer Requests</h2>\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Patient</th>\r\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Priority</th>\r\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Need</th>\r\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Assign Bed & Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {requests.map((req) => (\r\n                            <tr key={req.request_id} className={req.priority === 'Emergency' ? 'bg-red-50' : ''}>\r\n                                <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">\r\n                                    {req.patient_name}\r\n                                    <div className=\"text-xs text-gray-400\">From: {req.from_ward}</div>\r\n                                </td>\r\n                                <td className={`px-4 py-3 text-sm font-bold ${req.priority === 'Emergency' ? 'text-red-600' : 'text-gray-600'}`}>\r\n                                    {req.priority}\r\n                                </td>\r\n                                <td className=\"px-4 py-3 text-sm text-gray-500\">{req.required_specialty}</td>\r\n                                <td className=\"px-4 py-3 text-sm flex items-center space-x-2\">\r\n                                    {/* Bed Selection Dropdown */}\r\n                                    <select \r\n                                        className=\"text-xs border rounded p-1\"\r\n                                        value={selectedBeds[req.request_id || 0] || \"\"}\r\n                                        onChange={(e) => setSelectedBeds({...selectedBeds, [req.request_id || 0]: e.target.value})}\r\n                                    >\r\n                                        <option value=\"\">Select Bed</option>\r\n                                        {availableBeds\r\n                                            .filter(b => b.specialty_type === req.required_specialty)\r\n                                            .map(b => (\r\n                                                <option key={b.bed_id} value={b.bed_id}>\r\n                                                    Bed {b.bed_id} ({b.ward_name})\r\n                                                </option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n\r\n                                    <button \r\n                                        onClick={() => req.request_id && handleApprove(req.request_id)}\r\n                                        className=\"text-green-600 hover:text-green-900 font-bold\"\r\n                                    >\r\n                                        Approve\r\n                                    </button>\r\n                                    <button \r\n                                        onClick={() => req.request_id && handleReject(req.request_id)}\r\n                                        className=\"text-red-600 hover:text-red-900\"\r\n                                    >\r\n                                        Reject\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {requests.length === 0 && <p className=\"text-center py-4 text-gray-500\">No pending transfers.</p>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TransferRequestList;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/components/HospitalCensus.jsx"],"sourcesContent":["// frontend/src/components/HospitalCensus.jsx\r\n\r\nimport React from 'react';\r\n\r\nconst HospitalCensus = ({ beds }) => {\r\n    const total = beds.length;\r\n    const occupied = beds.filter(b => b.current_status === 'OCCUPIED').length;\r\n    const available = beds.filter(b => b.current_status === 'AVAILABLE').length;\r\n    \r\n    const occupancyRate = total > 0 ? Math.round((occupied / total) * 100) : 0;\r\n\r\n    // Group beds by specialty to create the breakdown\r\n    const specialtyData = beds.reduce((acc, bed) => {\r\n        const spec = bed.specialty_type;\r\n        if (!acc[spec]) acc[spec] = { total: 0, available: 0 };\r\n        acc[spec].total += 1;\r\n        if (bed.current_status === 'AVAILABLE') acc[spec].available += 1;\r\n        return acc;\r\n    }, {});\r\n\r\n    return (\r\n        <div className=\"space-y-6 mb-8\">\r\n            {/* Top Level Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"bg-indigo-900 text-white p-6 rounded-xl shadow-lg\">\r\n                    <p className=\"text-xs font-bold uppercase opacity-80\">Global Occupancy</p>\r\n                    <p className=\"text-4xl font-black\">{occupancyRate}%</p>\r\n                    <div className=\"w-full bg-indigo-700 h-2 mt-4 rounded-full overflow-hidden\">\r\n                        <div className=\"bg-white h-full\" style={{ width: `${occupancyRate}%` }}></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                    <p className=\"text-xs font-bold text-gray-500 uppercase\">Available Beds</p>\r\n                    <p className=\"text-4xl font-black text-green-600\">{available}</p>\r\n                    <p className=\"text-sm text-gray-400 mt-2\">Ready for admissions</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                    <p className=\"text-xs font-bold text-gray-500 uppercase\">Total Capacity</p>\r\n                    <p className=\"text-4xl font-black text-gray-800\">{total}</p>\r\n                    <p className=\"text-sm text-gray-400 mt-2\">Registered across all wards</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Specialty Breakdown Table */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                <div className=\"bg-gray-50 px-6 py-3 border-b\">\r\n                    <h3 className=\"text-sm font-bold text-gray-700 uppercase\">Specialty Capacity Breakdown</h3>\r\n                </div>\r\n                <table className=\"min-w-full divide-y divide-gray-200 text-sm\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-50\">\r\n                            <th className=\"px-6 py-2 text-left font-semibold text-gray-600\">Specialty</th>\r\n                            <th className=\"px-6 py-2 text-center font-semibold text-gray-600\">Available</th>\r\n                            <th className=\"px-6 py-2 text-center font-semibold text-gray-600\">Total</th>\r\n                            <th className=\"px-6 py-2 text-right font-semibold text-gray-600\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {Object.entries(specialtyData).map(([name, stats]) => (\r\n                            <tr key={name} className=\"hover:bg-gray-50\">\r\n                                <td className=\"px-6 py-2 font-medium text-gray-800\">{name}</td>\r\n                                <td className=\"px-6 py-2 text-center text-green-600 font-bold\">{stats.available}</td>\r\n                                <td className=\"px-6 py-2 text-center text-gray-500\">{stats.total}</td>\r\n                                <td className=\"px-6 py-2 text-right\">\r\n                                    <span className={`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${\r\n                                        stats.available === 0 ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'\r\n                                    }`}>\r\n                                        {stats.available === 0 ? 'Full' : 'Space'}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HospitalCensus;"],"names":[],"mappings":";;;;;AAAA,6CAA6C;AAE7C;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAE;IAC5B,MAAM,QAAQ,KAAK,MAAM;IACzB,MAAM,WAAW,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,cAAc,KAAK,YAAY,MAAM;IACzE,MAAM,YAAY,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,cAAc,KAAK,aAAa,MAAM;IAE3E,MAAM,gBAAgB,QAAQ,IAAI,KAAK,KAAK,CAAC,AAAC,WAAW,QAAS,OAAO;IAEzE,kDAAkD;IAClD,MAAM,gBAAgB,KAAK,MAAM,CAAC,CAAC,KAAK;QACpC,MAAM,OAAO,IAAI,cAAc;QAC/B,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,GAAG;YAAE,OAAO;YAAG,WAAW;QAAE;QACrD,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI;QACnB,IAAI,IAAI,cAAc,KAAK,aAAa,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI;QAC/D,OAAO;IACX,GAAG,CAAC;IAEJ,qBACI,qKAAC;QAAI,WAAU;;0BAEX,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAE,WAAU;0CAAyC;;;;;;0CACtD,qKAAC;gCAAE,WAAU;;oCAAuB;oCAAc;;;;;;;0CAClD,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,WAAU;oCAAkB,OAAO;wCAAE,OAAO,GAAG,cAAc,CAAC,CAAC;oCAAC;;;;;;;;;;;;;;;;;kCAI7E,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,qKAAC;gCAAE,WAAU;0CAAsC;;;;;;0CACnD,qKAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAG9C,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,qKAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,qKAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;0BAKlD,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;wBAAI,WAAU;kCACX,cAAA,qKAAC;4BAAG,WAAU;sCAA4C;;;;;;;;;;;kCAE9D,qKAAC;wBAAM,WAAU;;0CACb,qKAAC;0CACG,cAAA,qKAAC;oCAAG,WAAU;;sDACV,qKAAC;4CAAG,WAAU;sDAAkD;;;;;;sDAChE,qKAAC;4CAAG,WAAU;sDAAoD;;;;;;sDAClE,qKAAC;4CAAG,WAAU;sDAAoD;;;;;;sDAClE,qKAAC;4CAAG,WAAU;sDAAmD;;;;;;;;;;;;;;;;;0CAGzE,qKAAC;gCAAM,WAAU;0CACZ,OAAO,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,MAAM,MAAM,iBAC7C,qKAAC;wCAAc,WAAU;;0DACrB,qKAAC;gDAAG,WAAU;0DAAuC;;;;;;0DACrD,qKAAC;gDAAG,WAAU;0DAAkD,MAAM,SAAS;;;;;;0DAC/E,qKAAC;gDAAG,WAAU;0DAAuC,MAAM,KAAK;;;;;;0DAChE,qKAAC;gDAAG,WAAU;0DACV,cAAA,qKAAC;oDAAK,WAAW,CAAC,yDAAyD,EACvE,MAAM,SAAS,KAAK,IAAI,4BAA4B,+BACtD;8DACG,MAAM,SAAS,KAAK,IAAI,SAAS;;;;;;;;;;;;uCARrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBrC;uCAEe"}},
    {"offset": {"line": 1357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/components/AddBedForm.jsx"],"sourcesContent":["// frontend/src/components/AddBedForm.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\nconst AddBedForm = ({ onBedAdded, specialties }) => {\r\n    const [formData, setFormData] = useState({\r\n        ward_name: '',\r\n        specialty_type: 'General',\r\n        current_status: 'AVAILABLE'\r\n    });\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/beds`, formData, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            alert(\"New bed registered successfully!\");\r\n            setFormData({ ...formData, ward_name: '' }); // Reset ward name\r\n            onBedAdded(); // Refresh the dashboard list\r\n        } catch (err) {\r\n            alert(\"Error creating bed.\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-xl shadow-md border border-indigo-100\">\r\n            <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n                <span className=\"mr-2\">‚ûï</span> Register New Bed\r\n            </h2>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-xs font-bold text-gray-500 uppercase\">Ward Name</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        required\r\n                        className=\"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n                        placeholder=\"e.g. Ward B, Level 4\"\r\n                        value={formData.ward_name}\r\n                        onChange={(e) => setFormData({...formData, ward_name: e.target.value})}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-xs font-bold text-gray-500 uppercase\">Specialty Type</label>\r\n                    <select \r\n                        className=\"w-full border p-2 rounded mt-1 focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n                        value={formData.specialty_type}\r\n                        onChange={(e) => setFormData({...formData, specialty_type: e.target.value})}\r\n                    >\r\n                        {specialties.filter(s => s !== 'All').map(spec => (\r\n                            <option key={spec} value={spec}>{spec}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <button \r\n                    type=\"submit\" \r\n                    disabled={isSubmitting}\r\n                    className=\"w-full bg-indigo-600 text-white font-bold py-2 rounded hover:bg-indigo-700 transition-colors disabled:bg-gray-400\"\r\n                >\r\n                    {isSubmitting ? 'Registering...' : 'Add Bed to Inventory'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddBedForm;"],"names":[],"mappings":";;;;;AAAA,yCAAyC;AAEzC;AACA;;;;;;;;AAEA,MAAM,eAAe;AAErB,MAAM,aAAa,CAAC,EAAE,UAAU,EAAE,WAAW,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;QACrC,WAAW;QACX,gBAAgB;QAChB,gBAAgB;IACpB;IACA,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IACjD,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,gBAAgB;QAChB,IAAI;YACA,MAAM,iKAAK,CAAC,IAAI,CAAC,GAAG,aAAa,KAAK,CAAC,EAAE,UAAU;gBAC/C,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAChD;YACA,MAAM;YACN,YAAY;gBAAE,GAAG,QAAQ;gBAAE,WAAW;YAAG,IAAI,kBAAkB;YAC/D,cAAc,6BAA6B;QAC/C,EAAE,OAAO,KAAK;YACV,MAAM;QACV,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACI,qKAAC;QAAI,WAAU;;0BACX,qKAAC;gBAAG,WAAU;;kCACV,qKAAC;wBAAK,WAAU;kCAAO;;;;;;oBAAQ;;;;;;;0BAEnC,qKAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACpC,qKAAC;;0CACG,qKAAC;gCAAM,WAAU;0CAAkD;;;;;;0CACnE,qKAAC;gCACG,MAAK;gCACL,QAAQ;gCACR,WAAU;gCACV,aAAY;gCACZ,OAAO,SAAS,SAAS;gCACzB,UAAU,CAAC,IAAM,YAAY;wCAAC,GAAG,QAAQ;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAA;;;;;;;;;;;;kCAG5E,qKAAC;;0CACG,qKAAC;gCAAM,WAAU;0CAAkD;;;;;;0CACnE,qKAAC;gCACG,WAAU;gCACV,OAAO,SAAS,cAAc;gCAC9B,UAAU,CAAC,IAAM,YAAY;wCAAC,GAAG,QAAQ;wCAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;oCAAA;0CAExE,YAAY,MAAM,CAAC,CAAA,IAAK,MAAM,OAAO,GAAG,CAAC,CAAA,qBACtC,qKAAC;wCAAkB,OAAO;kDAAO;uCAApB;;;;;;;;;;;;;;;;kCAIzB,qKAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,eAAe,mBAAmB;;;;;;;;;;;;;;;;;;AAKvD;uCAEe"}},
    {"offset": {"line": 1525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/pages/DashboardPage.jsx"],"sourcesContent":["// frontend/src/pages/DashboardPage.jsx\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport BedCard from '../components/BedCard';\r\nimport TransferRequestForm from '../components/TransferRequestForm';\r\nimport TransferRequestList from '../components/TransferRequestList';\r\nimport HospitalCensus from '../components/HospitalCensus';\r\nimport AddBedForm from '../components/AddBedForm'; // 1. Import the New Form\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\nconst SPECIALTY_OPTIONS = [\r\n    'All', 'General', 'ICU', 'Pediatric', 'HDU', \r\n    'CCU', 'NICU', 'Emergency beds', 'PACU', 'PICU'\r\n];\r\n\r\nconst DashboardPage = () => {\r\n    const [beds, setBeds] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedSpecialty, setSelectedSpecialty] = useState('All');\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    \r\n    const token = localStorage.getItem('authToken'); \r\n\r\n    const fetchBedData = useCallback(async (specialty) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n            let url = `${API_BASE_URL}/beds`;\r\n            if (specialty && specialty !== 'All') {\r\n                url += `?specialty_type=${specialty}`;\r\n            }\r\n            const response = await axios.get(url, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            setBeds(response.data);\r\n        } catch (err) {\r\n            console.error('Failed to fetch bed data:', err);\r\n            if (err.response?.status === 401) {\r\n                setError(\"Session expired. Please log in again.\");\r\n            } else {\r\n                 setError('Could not load bed data.');\r\n            }\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        fetchBedData(selectedSpecialty);\r\n    }, [selectedSpecialty, fetchBedData]);\r\n\r\n    const handleFilterChange = (event) => {\r\n        setSelectedSpecialty(event.target.value);\r\n    };\r\n\r\n    if (error) return (\r\n        <div className=\"flex items-center justify-center h-screen\">\r\n            <div className=\"bg-red-50 p-6 rounded-lg text-red-700 border border-red-200\">\r\n                <p className=\"font-bold\">Error: {error}</p>\r\n                <button onClick={() => window.location.href = '/'} className=\"mt-2 underline\">Go to Login</button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <header className=\"bg-indigo-900 text-white p-4 shadow-lg flex justify-between items-center\">\r\n                <h1 className=\"text-2xl font-bold flex items-center\">\r\n                    <span className=\"mr-2\">üè•</span> No Bed Syndrome Command Center\r\n                </h1>\r\n                <div className=\"flex items-center space-x-6\">\r\n                    <div className=\"text-right\">\r\n                        <p className=\"text-sm font-medium\">{user?.username}</p>\r\n                        {/* Display Role Badge */}\r\n                        <span className={`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${\r\n                            user?.role === 'ADMIN' ? 'bg-red-500 text-white' : 'bg-green-500 text-white'\r\n                        }`}>\r\n                            {user?.role || 'Staff'}\r\n                        </span>\r\n                    </div>\r\n                    <button \r\n                        onClick={() => { localStorage.clear(); window.location.href = '/'; }}\r\n                        className=\"bg-red-500 hover:bg-red-600 px-4 py-2 rounded text-sm font-bold transition-colors\"\r\n                    >Logout</button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"p-6 max-w-[1600px] mx-auto\">\r\n                <HospitalCensus beds={beds} />\r\n\r\n                <div className=\"grid grid-cols-1 xl:grid-cols-12 gap-6\">\r\n                    {/* LEFT COLUMN: Bed Inventory */}\r\n                    <div className=\"xl:col-span-8 space-y-6\">\r\n                        <section className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-100\">\r\n                            <div className=\"flex flex-col md:flex-row justify-between items-center mb-8 gap-4 border-b pb-4\">\r\n                                <div>\r\n                                    <h2 className=\"text-2xl font-bold text-gray-800\">Bed Inventory</h2>\r\n                                    <p className=\"text-sm text-gray-500\">Live view of available medical facilities</p>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-3 bg-gray-50 p-2 rounded-lg border\">\r\n                                    <label className=\"text-sm font-bold text-gray-600\">Filter:</label>\r\n                                    <select \r\n                                        value={selectedSpecialty}\r\n                                        onChange={handleFilterChange}\r\n                                        className=\"bg-white border rounded-md p-1.5 text-sm outline-none\"\r\n                                    >\r\n                                        {SPECIALTY_OPTIONS.map(opt => <option key={opt} value={opt}>{opt}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {isLoading ? (\r\n                                <div className=\"text-center py-20 animate-pulse text-indigo-700 font-medium\">Updating...</div>\r\n                            ) : (\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                    {beds.map(bed => (\r\n                                        <BedCard \r\n                                            key={bed.bed_id} \r\n                                            bedData={bed} \r\n                                            onStatusChange={() => fetchBedData(selectedSpecialty)}\r\n                                            token={token}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </section>\r\n                    </div>\r\n\r\n                    {/* RIGHT COLUMN: Sidebar Forms */}\r\n                    <div className=\"xl:col-span-4 space-y-6\">\r\n                        <section className=\"sticky top-6 space-y-6\">\r\n                            {/* 2. ADD BED FORM (New) */}\r\n                            <AddBedForm \r\n                                onBedAdded={() => fetchBedData(selectedSpecialty)} \r\n                                specialties={SPECIALTY_OPTIONS} \r\n                            />\r\n                            \r\n                            <TransferRequestForm />\r\n                            <TransferRequestList />\r\n                        </section>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DashboardPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1902, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/arnoc/Desktop/No%20Bed%20Syndrome/no-bed-syndrome-tracker/frontend/src/pages/SignupPage.jsx"],"sourcesContent":["// frontend/src/pages/SignupPage.jsx\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst SignupPage = () => {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '', // New field\r\n        role: 'STAFF'\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSignup = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        // 1. Client-side Validation: Check if passwords match\r\n        if (formData.password !== formData.confirmPassword) {\r\n            return setError('Passwords do not match.');\r\n        }\r\n\r\n        // 2. Client-side Validation: Minimum length check\r\n        if (formData.password.length < 6) {\r\n            return setError('Password must be at least 6 characters long.');\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.post('http://localhost:3000/api/v1/auth/signup', {\r\n                username: formData.username,\r\n                password: formData.password,\r\n                role: formData.role\r\n            });\r\n            alert('Account created successfully!');\r\n            navigate('/'); \r\n        } catch (err) {\r\n            setError(err.response?.data?.error || 'Registration failed.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-50 px-4\">\r\n            <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-slate-200\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-3xl font-bold text-slate-900\">Staff Registration</h1>\r\n                    <p className=\"text-slate-500 mt-2\">No Bed Syndrome Tracker</p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm font-medium animate-pulse\">\r\n                        ‚ö†Ô∏è {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSignup} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Username</label>\r\n                        <input\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"e.g. jdoe_admin\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Password</label>\r\n                        <input\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Confirm Password</label>\r\n                        <input\r\n                            name=\"confirmPassword\"\r\n                            type=\"password\"\r\n                            required\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Access Level</label>\r\n                        <select \r\n                            name=\"role\"\r\n                            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white\"\r\n                            onChange={handleChange}\r\n                        >\r\n                            <option value=\"STAFF\">Clinical Staff</option>\r\n                            <option value=\"ADMIN\">Bed Manager / Admin</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className={`w-full py-3 rounded-lg font-bold text-white transition-all ${\r\n                            loading ? 'bg-slate-400' : 'bg-blue-600 hover:bg-blue-700'\r\n                        }`}\r\n                    >\r\n                        {loading ? 'Processing...' : 'Create Account'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-6 text-center text-sm\">\r\n                    <span className=\"text-slate-600\">Already have an account? </span>\r\n                    <Link to=\"/\" className=\"text-blue-600 font-bold hover:underline\">Log In</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignupPage;"],"names":[],"mappings":";;;;;AAAA,oCAAoC;AACpC;AACA;AACA;;;;;;;;;AAEA,MAAM,aAAa;IACf,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;QACrC,UAAU;QACV,UAAU;QACV,iBAAiB;QACjB,MAAM;IACV;IACA,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,iNAAW;IAE5B,MAAM,eAAe,CAAC;QAClB,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAC/D;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QAET,sDAAsD;QACtD,IAAI,SAAS,QAAQ,KAAK,SAAS,eAAe,EAAE;YAChD,OAAO,SAAS;QACpB;QAEA,kDAAkD;QAClD,IAAI,SAAS,QAAQ,CAAC,MAAM,GAAG,GAAG;YAC9B,OAAO,SAAS;QACpB;QAEA,WAAW;QAEX,IAAI;YACA,MAAM,iKAAK,CAAC,IAAI,CAAC,4CAA4C;gBACzD,UAAU,SAAS,QAAQ;gBAC3B,UAAU,SAAS,QAAQ;gBAC3B,MAAM,SAAS,IAAI;YACvB;YACA,MAAM;YACN,SAAS;QACb,EAAE,OAAO,KAAK;YACV,SAAS,IAAI,QAAQ,EAAE,MAAM,SAAS;QAC1C,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,qKAAC;QAAI,WAAU;kBACX,cAAA,qKAAC;YAAI,WAAU;;8BACX,qKAAC;oBAAI,WAAU;;sCACX,qKAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAClD,qKAAC;4BAAE,WAAU;sCAAsB;;;;;;;;;;;;gBAGtC,uBACG,qKAAC;oBAAI,WAAU;;wBAAmG;wBAC1G;;;;;;;8BAIZ,qKAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAAkD;;;;;;8CACnE,qKAAC;oCACG,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,UAAU;;;;;;;;;;;;sCAIlB,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAAkD;;;;;;8CACnE,qKAAC;oCACG,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,UAAU;;;;;;;;;;;;sCAIlB,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAAkD;;;;;;8CACnE,qKAAC;oCACG,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,UAAU;;;;;;;;;;;;sCAIlB,qKAAC;;8CACG,qKAAC;oCAAM,WAAU;8CAAkD;;;;;;8CACnE,qKAAC;oCACG,MAAK;oCACL,WAAU;oCACV,UAAU;;sDAEV,qKAAC;4CAAO,OAAM;sDAAQ;;;;;;sDACtB,qKAAC;4CAAO,OAAM;sDAAQ;;;;;;;;;;;;;;;;;;sCAI9B,qKAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAW,CAAC,2DAA2D,EACnE,UAAU,iBAAiB,iCAC7B;sCAED,UAAU,kBAAkB;;;;;;;;;;;;8BAIrC,qKAAC;oBAAI,WAAU;;sCACX,qKAAC;4BAAK,WAAU;sCAAiB;;;;;;sCACjC,qKAAC,0MAAI;4BAAC,IAAG;4BAAI,WAAU;sCAA0C;;;;;;;;;;;;;;;;;;;;;;;AAKrF;uCAEe"}}]
}